<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Rendering Modes | Processing.js</title>
    <link rel="stylesheet" href="/processingjs-org/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="/processingjs-org/css/syntax.css" type="text/css" />
    <link rel="stylesheet" href="/processingjs-org/css/processing-js.css" type="text/css" />
    <script src="/processingjs-org/js/processing.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <script src="/processingjs-org/js/jquery.tweet.min.js" type="text/javascript"></script>
    <script src="/processingjs-org/js/tabselector.js" type="text/javascript"></script>
    <script src="http://cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
    <script type="text/javascript">
      // Only do tracking on the actual site
      if (document.location.host === "processingjs.org") {
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8565070-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        }());
      }
    </script>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <a href="/processingjs-org/"><img src="/processingjs-org/images/header.png" width="177" height="42"></a>
      </div>
      <span class="tagline">a port of the Processing Visualization Language</span>

      <div class="navbar">
        <canvas width="940px" height="78px" data-processing-sources="/processingjs-org/sketches/bannerSketch.pde"></canvas>
        <ul>
          <li><a href="/processingjs-org/"><span>home</span></a></li>
          <li><a href="/processingjs-org/download/"><span>download</span></a></li>
          <li><a href="/processingjs-org/reference/"><span>reference</span></a></li>
          <li><a href="/processingjs-org/exhibition/"><span>exhibition</span></a></li>
          <li><a href="/processingjs-org/learning/"><span>learning</span></a></li>
          <li><a href="/processingjs-org/articles/"><span>articles</span></a></li>
          <li><a href="/processingjs-org/community/"><span>community</span></a></li>
          <li><a href="/processingjs-org/blog/"><span>blog</span></a></li>
        </ul>
        <a class="viewsource" href="/processingjs-org/sketches/bannerSketch.pde">view source</a>
      </div>

      <div class="page row">
        <div class="span11">
<h3>
    Understanding Rendering Modes in Processing.js</h3>
<h4>
    Introduction</h4>
<p>
    The Processing language enables complex 2D and 3D graphics programming without having
    to understand the details of the underlying graphics system. It is designed to be
    easily learned, yet allows one's skills to grow and evolve without ever feeling
    limited.</p>
<p>
    Processing can be used to work with both 2D and 3D graphics. It achieves this through
    a number of different rendering engines, which affect how it works. For example,
    one might choose to render a 2D sketch using the JAVA2D and P2D renderers or create
    3D sketches with the P3D and OPENGL renderers. There are also renderers for creating
    PDFs. Processing allows developers to choose renderers based on tradeoffs of speed
    and quality.</p>
<p>
    A renderer is chosen through the use of Processing's <a href="http://processingjs.org/reference/size_">
        size()</a> function. For example, to create a 2D sketch that is 200 by 200 pixels
    in size:
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">P2D</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></figure>
</p>
<h4>
    The 2D Rendering Context</h4>
<p>
    Processing.js uses the HTML canvas element to provide 2D and WebGL rendering contexts.
    The canvas 2D API is used to implement Processing's JAVA2D and P2D renderers (see
    the <a href="https://developer.mozilla.org/en/canvas_tutorial">canvas API</a> for
    details on canvas). You can create a 2D Processing.js sketch using any of the following:
    <ol>
        <li>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">P2D</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></figure>
        </li>
        <li>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">JAVA2D</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></figure>
        </li>
        <li>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span> <span class="c1">// default is 2D</span>
</pre></td></tr></tbody></table></code></pre></figure>
</pre>
        </li>
    </ol>
</p>
<p>
    Here is a simple 2D Processing.js sketch:
    <br />
    <br />
    <canvas data-processing-sources="/processingjs-org/sketches/2d1.pde" width="200"
        height="200"></canvas>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> 
<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span> 
    <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
    <span class="n">smooth</span><span class="o">();</span>
    <span class="n">strokeWeight</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
    <span class="n">frameRate</span><span class="o">(</span><span class="mi">24</span><span class="o">);</span>
<span class="o">}</span> 
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">stroke</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">50</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="mi">100</span><span class="o">);</span>
    <span class="n">line</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">),</span> <span class="n">height</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span> <span class="n">width</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">i</span><span class="o">++;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> 
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
<h4>
    The WebGL (3D) Rendering Context</h4>
<p>
    Processing.js 3D renderers (P3D and OPENGL) are implemented using WebGL. The Web-based
    Graphics Library (WebGL) is a canvas rendering context that provides a JavaScript
    based 3D drawing API for the web (see <a href="https://developer.mozilla.org/en/WebGL">
        https://developer.mozilla.org/en/WebGL</a>). WebGL is based on OpenGL ES 2.0,
    a subset of OpenGL designed to be used in embedded devices. Many modern browsers
    support WebGL, but not all. You can confirm that your browser and computer/operating
    system support WebGL <a href="http://www.doesmybrowsersupportwebgl.com/">here</a>.
    You can download a WebGL enabled browser <a href="https://www.mozilla.com/en-US/firefox/fx/?from=getfirefox">
        here</a>.</p>
<p>
    Just as Processing relies on OpenGL for its 3D graphics (OPENGL renderer), Processing.js
    uses OpenGL via WebGL, allowing Processing.js sketches to work just like their Processing
    equivalent.</p>
<p>
    In order to create a 3D OpenGL sketch in Processing, two things are necessary. First,
    the OpenGL library must be imported. Second, the OpenGL rendered must be specified:

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="nn">processing.opengl.*</span>
<span class="o">...</span>
<span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">OPENGL</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
<p>
    Since Processing.js is actually JavaScript, it does not support importing Java-based
    libraries. However, in order to enable sketches written in Processing to work in
    Processing.js, the import line can be safely included—Processing.js will simply
    ignore it. The following methods of creating a 3D Processing.js sketch are equivalent:
    <ol>
        <li>
            <pre name="code">import processing.opengl.* ... size(200, 200, OPENGL);</pre>
        </li>
        <li>
            <pre name="code">size(200, 200, P3D);</pre>
        </li>
    </ol>
</p>
<p>
    Here is a simple Processing.js 3D sketch:<br />
    <br />
    <canvas data-processing-sources="/processingjs-org/sketches/webgl1.pde" width="200"
        height="200"></canvas>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">OPENGL</span><span class="o">);</span>
<span class="n">noStroke</span><span class="o">();</span>
<span class="n">background</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
<span class="n">lights</span><span class="o">();</span>
<span class="n">translate</span><span class="o">(</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">30</span><span class="o">,</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">rotateX</span><span class="o">(-</span><span class="no">PI</span><span class="o">/</span><span class="mi">6</span><span class="o">);</span>
<span class="n">rotateY</span><span class="o">(</span><span class="no">PI</span><span class="o">/</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">210</span><span class="o">/</span><span class="kt">float</span><span class="o">(</span><span class="n">height</span><span class="o">)</span> <span class="o">*</span> <span class="no">PI</span><span class="o">);</span>
<span class="n">box</span><span class="o">(</span><span class="mi">45</span><span class="o">);</span>
<span class="n">translate</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">50</span><span class="o">);</span>
<span class="n">box</span><span class="o">(</span><span class="mi">30</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
<p>
    <br />
    Here's another more complex one:<br />
    <br />
    <canvas data-processing-sources="/processingjs-org/sketches/webgl2.pde" width="200"
        height="200"></canvas>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre></td><td class="code"><pre><span class="kt">float</span> <span class="n">ang</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ang2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ang3</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ang4</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">px</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">py</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">pz</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">flapSpeed</span> <span class="o">=</span> <span class="mf">0.2</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="no">OPENGL</span><span class="o">);</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
  <span class="n">noStroke</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="n">camera</span><span class="o">();</span>
  <span class="c1">// Flight</span>
  <span class="n">px</span> <span class="o">=</span> <span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang3</span><span class="o">))</span> <span class="o">*</span> <span class="mi">170</span><span class="o">;</span>
  <span class="n">py</span> <span class="o">=</span> <span class="n">cos</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang3</span><span class="o">))</span> <span class="o">*</span> <span class="mi">300</span><span class="o">;</span>
  <span class="n">pz</span> <span class="o">=</span> <span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang4</span><span class="o">))</span> <span class="o">*</span> <span class="mi">500</span><span class="o">;</span>
  <span class="n">translate</span><span class="o">(</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">px</span><span class="o">,</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">py</span><span class="o">,</span> <span class="o">-</span><span class="mi">700</span><span class="o">+</span><span class="n">pz</span><span class="o">);</span>
  <span class="n">rotateX</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang2</span><span class="o">))</span> <span class="o">*</span> <span class="mi">120</span><span class="o">);</span>
  <span class="n">rotateY</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang2</span><span class="o">))</span> <span class="o">*</span> <span class="mi">50</span><span class="o">);</span>
  <span class="n">rotateZ</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang2</span><span class="o">))</span> <span class="o">*</span> <span class="mi">65</span><span class="o">);</span>
  
  <span class="c1">// Body</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">153</span><span class="o">);</span>
  <span class="n">box</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">20</span><span class="o">);</span>
  <span class="c1">// Left wing</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">204</span><span class="o">);</span>
  <span class="n">pushMatrix</span><span class="o">();</span>
  <span class="n">rotateY</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang</span><span class="o">))</span> <span class="o">*</span> <span class="o">-</span><span class="mi">20</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">(-</span><span class="mi">75</span><span class="o">,</span> <span class="o">-</span><span class="mi">50</span><span class="o">,</span> <span class="mi">75</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="n">popMatrix</span><span class="o">();</span>
  <span class="c1">// Right wing</span>
  <span class="n">pushMatrix</span><span class="o">();</span>
  <span class="n">rotateY</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">ang</span><span class="o">))</span> <span class="o">*</span> <span class="mi">20</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">50</span><span class="o">,</span> <span class="mi">75</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="n">popMatrix</span><span class="o">();</span>
  <span class="c1">// Wing flap</span>
  <span class="n">ang</span> <span class="o">+=</span> <span class="n">flapSpeed</span><span class="o">;</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">ang</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">flapSpeed</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span> 
  <span class="k">if</span> <span class="o">(</span><span class="n">ang</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span> <span class="o">-</span><span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">flapSpeed</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="c1">// Increment angles</span>
  <span class="n">ang2</span> <span class="o">+=</span> <span class="mf">0.01</span><span class="o">;</span>
  <span class="n">ang3</span> <span class="o">+=</span> <span class="mf">2.0</span><span class="o">;</span>
  <span class="n">ang4</span> <span class="o">+=</span> <span class="mf">0.75</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
<p><br />
    Once you have a 3D enabled browser installed you can try out some example 2D and
    3D sketches <a href="http://processingjs.org/content/learning/3D_ide/index.php">here</a>.
</p>
<h4>
    Processing.js as a Simplified Web Drawing API</h4>
<p>
    Once a 3D sketch has been created, all of the normal Processing drawing operations
    can be done. Most Processing functions have 2D and 3D versions (e.g., you provide
    different arguments for points in 2D or 3D space). By learning the Processing syntax,
    it's easy to create complex 2D and WebGL graphics without ever touching the underlying
    graphics APIs. This is true of Processing and Java, and also of Processing.js and
    canvas/WebGL. The Processing langauge provides a powerful and beginner friendly
    on-ramp to canvas 2D and WebGL. Consult the <a href="http://processingjs.org/reference/">
        Processing.js Langauge Reference</a> for specific details on how to use each
    function.</p>
<h4>
    Using the Processing.js API in JavaScript</h4>
<p>
    In addition to running standard Processing sketches, Processing.js can also be used
    in so-called API mode. This is the Processing language API which is accessbile to
    JavaScript without any Processing code. The Processing.js API is available if you
    download the complete Processing.js zip file instead of just the .js file from the
    Downloads page (for example: processing.js-version.zip vs processing.min.js) (<a
        href="http://processingjs.org/download">http://processingjs.org/download</a>).
    It is essentially the same as Processing.js, but without the code parser (i.e.,
    you can use the API either way, but the Processing.js API is a somewhat smaller
    file). See <a href="http://processingjs.org/reference/articles/jsQuickStart.html#javascriptonlyprocessingcode">
        Writing JavaScript-only Processing.js Code</a> for more details.</p>
<h4>
    Accessing the Raw Canvas Context - Advanced:</h4>
<p>
    It's also possible to work with the raw canvas context, both 2D and WebGL, from
    Processing.js, JavaScript, or both. This is not a recommended method, since it will
    make your Processing.js sketch harder to use in Processing; however, sometimes it's
    useful to know how to control the canvas context from outside the sketch in JavaScript,
    or to do something that Processing doesn't allow, which the canvas or WebGL APIs
    do.</p>
<p>
    All Processing.js sketches have an externals property, accessible from within the
    Processing code as a global variable. This object is meant to allow for accessing
    and sharing external but related data between the sketch code and the web page.
    The externals object has a number of useful properties, including:
    <ul>
        <li>sketch: the current sketch object</li>
            <li>canvas: the canvas element associated with a sketch</li>
                <li>
        context: the canvas rendering context being used by the sketch</li>
    </ul>
</p>
<p>
    From JavaScript, these can be accessed via a Processing.js sketch's instance:

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">Processing</span><span class="p">.</span><span class="nx">instances</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">externals</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nx">Processing</span><span class="p">.</span><span class="nx">getInstanceById</span><span class="p">(</span><span class="dl">'</span><span class="s1">canvas-id</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">p2Canvas</span> <span class="o">=</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">externals</span><span class="p">.</span><span class="nx">canvas</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
<p>
    The same thing can be done from within Processing code, where the externals object
    is available as a global variable:

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="c1">// Processing.js allows you to mix JavaScript, so using var is fine here:</span>
<span class="kd">var</span> <span class="nx">currentContext</span> <span class="o">=</span> <span class="nx">externals</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></figure>

</p>
Once you have a reference to the context, you can use any valid canvas API call,
including raw WebGL functions if using a 3D sketch. 

        </div>
        <div class="sidebar span4">
          <h3><a href="/processingjs-org/download/">Downloads</a></h3>
          <ul>
            <li><a href="/processingjs-org/download/">Download the latest version of Processing.js!</a></li>
          </ul>

          <h3><a href="/processingjs-org/articles/">Articles</a></h3>
          <ul>
            <li><a href="/processingjs-org/articles/jsQuickStart.html">Quick Start - JavaScript Developer</a></li>
            <li><a href="/processingjs-org/articles/p5QuickStart.html">Quick Start - Processing Developer</a></li>
            <li><a href="/processingjs-org/articles/RenderingModes.html">Rendering Modes</a></li>
            <li><a href="/processingjs-org/articles/PomaxGuide.html">Pomax's Guide to processing-js</a></li>
          </ul>

          <h3><a>Web IDEs</a></h3>
          <ul>
            <li><a href="http://sketchpad.cc">Sketchpad.cc</a></li>
            <li><a href="/processingjs-org/tools/processing-helper.html">Processing.js Helper</a></li>
            <li><a href="http://www.openprocessing.org">OpenProcessing.org</a></li>
          </ul>

          <h3><a href="/processingjs-org/community/">Community</a></h3>
          <ul>
            <li><a href="irc://irc.mozilla.org/processing.js">IRC Channel</a></li>
            <li><a href="http://processing-js.lighthouseapp.com/">Bug Tracker</a></li>
            <li><a href="http://github.com/processing-js/processing-js/">Github Repository</a></li>
            <li><a href="http://groups.google.com/group/processingjs">Google Group</a></li>
            <li><a href="http://zenit.senecac.on.ca/wiki/index.php/">Open Source @ Seneca</a></li>
          </ul>

          <h3><a href="http://twitter.com/processingjs">Twitter Feed</a></h3>
          <div class="twitter"></div>
        </div>
      </div>

      <div class="footer">
        Processing is an open visualization language developed by
        <a href="http://benfry.com/">Ben Fry</a> &amp; <a href="http://reas.com/">Casey Reas</a>,
        and originally ported to Javascript by
        <a href="http://ejohn.org/blog/processingjs/">John Resig</a>.
        Processing.js is maintained by the Processing.js team.
      </div>
    </div>
    <a href="http://github.com/processing-js/processing-js/">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="/processingjs-org/images/forkme-right-orange.png" alt="Fork me on GitHub">
    </a>
  </body>
</html>
