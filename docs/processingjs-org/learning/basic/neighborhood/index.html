<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Processing.js</title>
    <link rel="stylesheet" href="/processingjs-org/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="/processingjs-org/css/syntax.css" type="text/css" />
    <link rel="stylesheet" href="/processingjs-org/css/processing-js.css" type="text/css" />
    <script src="/processingjs-org/js/processing.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <script src="/processingjs-org/js/jquery.tweet.min.js" type="text/javascript"></script>
    <script src="/processingjs-org/js/tabselector.js" type="text/javascript"></script>
    <script src="http://cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
    <script type="text/javascript">
      // Only do tracking on the actual site
      if (document.location.host === "processingjs.org") {
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8565070-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        }());
      }
    </script>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <a href="/processingjs-org/"><img src="/processingjs-org/images/header.png" width="177" height="42"></a>
      </div>
      <span class="tagline">a port of the Processing Visualization Language</span>

      <div class="navbar">
        <canvas width="940px" height="78px" data-processing-sources="/processingjs-org/sketches/bannerSketch.pde"></canvas>
        <ul>
          <li><a href="/processingjs-org/"><span>home</span></a></li>
          <li><a href="/processingjs-org/download/"><span>download</span></a></li>
          <li><a href="/processingjs-org/reference/"><span>reference</span></a></li>
          <li><a href="/processingjs-org/exhibition/"><span>exhibition</span></a></li>
          <li><a href="/processingjs-org/learning/"><span>learning</span></a></li>
          <li><a href="/processingjs-org/articles/"><span>articles</span></a></li>
          <li><a href="/processingjs-org/community/"><span>community</span></a></li>
          <li><a href="/processingjs-org/blog/"><span>blog</span></a></li>
        </ul>
        <a class="viewsource" href="/processingjs-org/sketches/bannerSketch.pde">view source</a>
      </div>

      <div class="page row">
        <div class="span11">
<h3>Neighborhood</h3>



<p>By Ira Greenberg 



Draw a neighborhood of houses using

Door, Window, Roof and House classes.

Good example of class composition, with component

Door, Window, Roof class references encapsulated

within House class. This arrangement allows 

House class to handle placement and sizing of 

its components, while still allowing user

customization of the individual components.</p>



<p><a href="http://processing.org/learning/basics/neighborhood.html">Original Processing.org Example: Neighborhood</a><br>

<div class="learning-demo"><script type="application/processing">

void setup(){

  size(200, 200);

  background(190);

  smooth();

  // Ground plane

  int groundHeight = 10;

  fill(0);

  rect(0, height-groundHeight, width, groundHeight);

  fill(255);

  

  // Center the houses

  translate(12, 0);



  // Houses

  Door door1 = new Door(20, 40);

  Window window1 = new Window(50, 62, false, Window.DOUBLE);

  Roof roof1 = new Roof(Roof.DOME);

  House house1 = new House(75, 75, door1, window1, roof1, House.MIDDLE_DOOR);

  house1.drawHouse(0, height-groundHeight-house1.h, true);



  Door door2 = new Door(20, 40);

  Window window2 = new Window(50, 62, true, Window.QUAD);

  Roof roof2 = new Roof(Roof.GAMBREL);

  House house2 = new House(100, 60, door2, window2, roof2, House.LEFT_DOOR);

  house2.drawHouse(house1.x + house1.w, height-groundHeight-house2.h, true);

}



class Door{

  //door properties

  int x;

  int y;

  int w;

  int h;



  // for knob

  int knobLoc = 1;

  //constants

  final static int RT = 0;

  final static int LFT = 1;



  // constructor

  Door(int w, int h){

    this.w = w;

    this.h = h;

  }



  // draw the door

  void drawDoor(int x, int y) {

    rect(x, y, w, h);

    int knobsize = w/10;

    if (knobLoc == 0){

      //right side

      ellipse(x+w-knobsize, y+h/2, knobsize, knobsize);

    }

    else {

      //left side

      ellipse(x+knobsize, y+h/2, knobsize, knobsize);

    }

  }



  // set knob position

  void setKnob(int knobLoc){

    this. knobLoc = knobLoc;

  }

}



class Window{

  //window properties

  int x;

  int y;

  int w;

  int h;



  // customized features

  boolean hasSash = false;



  // single, double, quad pane

  int style = 0;

  //constants

  final static int SINGLE = 0;

  final static int DOUBLE = 1;

  final static int QUAD = 2;



  // constructor 1

  Window(int w, int h){

    this.w = w;

    this.h = h;

  }

  // constructor 2

  Window(int w, int h, int style){

    this.w = w;

    this.h = h;

    this.style = style;

  }

  // constructor 3

  Window(int w, int h, boolean hasSash, int style){

    this.w = w;

    this.h = h;

    this.hasSash = hasSash;

    this.style = style;

  }



  // draw the window

  void drawWindow(int x, int y) {

    //local variables

    int margin = 0;

    int winHt = 0;

    int winWdth = 0;



    if (hasSash){

      margin = w/15;

    }



    switch(style){

    case 0:

      //outer window (sash)

      rect(x, y, w, h);

      //inner window

      rect(x+margin, y+margin, w-margin*2, h-margin*2);

      break;

    case 1:

      winHt = (h-margin*3)/2;

      //outer window (sash)

      rect(x, y, w, h);

      //inner window (top)

      rect(x+margin, y+margin, w-margin*2, winHt);

      //inner windows (bottom)

      rect(x+margin, y+winHt+margin*2, w-margin*2, winHt);

      break;

    case 2:

      winWdth = (w-margin*3)/2;

      winHt = (h-margin*3)/2;

      //outer window (sash)

      rect(x, y, w, h);

      //inner window (top-left)

      rect(x+margin, y+margin, winWdth, winHt);

      //inner window (top-right)

      rect(x+winWdth+margin*2,  y+margin, winWdth, winHt);

      //inner windows (bottom-left)

      rect(x+margin, y+winHt+margin*2, winWdth, winHt);

      //inner windows (bottom-right)

      rect(x+winWdth+margin*2,  y+winHt+margin*2, winWdth, winHt);

      break;

    }

  }



  // set window style (number of panes)

  void setStyle(int style){

    this.style = style;

  }

}



class Roof{

  //roof properties

  int x;

  int y;

  int w;

  int h;



  // roof style

  int style = 0;

  //constants  

  final static int CATHEDRAL = 0;

  final static int GAMBREL = 1;

  final static int DOME = 2;



  // default constructor

  Roof(){

  }

   

   // constructor 2

   Roof(int style){

    this.style = style;

  }



  // draw the roof

  void drawRoof(int x, int y, int w, int h) {

    switch(style){

    case 0:

      beginShape();

      vertex(x, y);

      vertex(x+w/2, y-h/3);

      vertex(x+w, y);

      endShape(CLOSE);

      break;

    case 1:

     beginShape();

      vertex(x, y);

      vertex(x+w/7, y-h/4);

      vertex(x+w/2, y-h/2);

      vertex(x+(w-w/7), y-h/4);

      vertex(x+w, y);

      endShape(CLOSE);

      break;

    case 2:

      ellipseMode(CORNER);

      arc(x, y-h/2, w, h, PI, TWO_PI);

      line(x, y, x+w, y);

      break;

    }



  }



  // set roof style

  void setStyle(int style){

    this.style = style;

  }

}



class House{

  //house properties

  int x;

  int y;

  int w;

  int h;



  //component reference variables

  Door door;

  Window window;

  Roof roof;



  //optional autosize variable

  boolean AutoSizeComponents = false;



  //door placement

  int doorLoc = 0;

  //constants

  final static int MIDDLE_DOOR = 0;

  final static int LEFT_DOOR = 1;

  final static int RIGHT_DOOR = 2;



  //constructor

  House(int w, int h, Door door, Window window, Roof roof, int doorLoc) {

    this.w = w;

    this.h = h;

    this.door = door;

    this.window = window;

    this.roof = roof;

    this.doorLoc = doorLoc;

  }



  void drawHouse(int x, int y, boolean AutoSizeComponents) {

    this.x = x;

    this.y =y;

    this.AutoSizeComponents = AutoSizeComponents;



    //automatically sizes doors and windows

    if(AutoSizeComponents){

      //autosize door

      door.h = h/4;

      door.w = door.h/2;



      //autosize windows

      window.h = h/3;

      window.w = window.h/2;



    }

    // draw bldg block

    rect(x, y, w, h);



    // draw door

    switch(doorLoc){

    case 0:

      door.drawDoor(x+w/2-door.w/2, y+h-door.h);

      break;

    case 1:

      door.drawDoor(x+w/8, y+h-door.h);

      break;

    case 2:

      door.drawDoor(x+w-w/8-door.w,  y+h-door.h);

      break;

    }



    // draw windows

    int windowMargin = (w-window.w*2)/3;

    window.drawWindow(x+windowMargin, y+h/6);

    window.drawWindow(x+windowMargin*2+window.w, y+h/6);



    // draw roof

    roof.drawRoof(x, y, w, h);

  }



  // catch drawHouse method without boolean argument

  void drawHouse(int x, int y){

    // recall with required 3rd argument

    drawHouse(x, y, false);

  }

}

</script><canvas width="200" height="200"></canvas></div></p>

<div style="height:0px;width:0px;overflow:hidden;"></div>



<div class="code"><pre name="code" class="processing">// All Examples Written by Casey Reas</a> and Ben Fry</a>

// unless otherwise stated.

void setup(){

  size(200, 200);

  background(190);

  smooth();

  // Ground plane

  int groundHeight = 10;

  fill(0);

  rect(0, height-groundHeight, width, groundHeight);

  fill(255);

  

  // Center the houses

  translate(12, 0);



  // Houses

  Door door1 = new Door(20, 40);

  Window window1 = new Window(50, 62, false, Window.DOUBLE);

  Roof roof1 = new Roof(Roof.DOME);

  House house1 = new House(75, 75, door1, window1, roof1, House.MIDDLE_DOOR);

  house1.drawHouse(0, height-groundHeight-house1.h, true);



  Door door2 = new Door(20, 40);

  Window window2 = new Window(50, 62, true, Window.QUAD);

  Roof roof2 = new Roof(Roof.GAMBREL);

  House house2 = new House(100, 60, door2, window2, roof2, House.LEFT_DOOR);

  house2.drawHouse(house1.x + house1.w, height-groundHeight-house2.h, true);

}



class Door{

  //door properties

  int x;

  int y;

  int w;

  int h;



  // for knob

  int knobLoc = 1;

  //constants

  final static int RT = 0;

  final static int LFT = 1;



  // constructor

  Door(int w, int h){

    this.w = w;

    this.h = h;

  }



  // draw the door

  void drawDoor(int x, int y) {

    rect(x, y, w, h);

    int knobsize = w/10;

    if (knobLoc == 0){

      //right side

      ellipse(x+w-knobsize, y+h/2, knobsize, knobsize);

    }

    else {

      //left side

      ellipse(x+knobsize, y+h/2, knobsize, knobsize);

    }

  }



  // set knob position

  void setKnob(int knobLoc){

    this. knobLoc = knobLoc;

  }

}



class Window{

  //window properties

  int x;

  int y;

  int w;

  int h;



  // customized features

  boolean hasSash = false;



  // single, double, quad pane

  int style = 0;

  //constants

  final static int SINGLE = 0;

  final static int DOUBLE = 1;

  final static int QUAD = 2;



  // constructor 1

  Window(int w, int h){

    this.w = w;

    this.h = h;

  }

  // constructor 2

  Window(int w, int h, int style){

    this.w = w;

    this.h = h;

    this.style = style;

  }

  // constructor 3

  Window(int w, int h, boolean hasSash, int style){

    this.w = w;

    this.h = h;

    this.hasSash = hasSash;

    this.style = style;

  }



  // draw the window

  void drawWindow(int x, int y) {

    //local variables

    int margin = 0;

    int winHt = 0;

    int winWdth = 0;



    if (hasSash){

      margin = w/15;

    }



    switch(style){

    case 0:

      //outer window (sash)

      rect(x, y, w, h);

      //inner window

      rect(x+margin, y+margin, w-margin*2, h-margin*2);

      break;

    case 1:

      winHt = (h-margin*3)/2;

      //outer window (sash)

      rect(x, y, w, h);

      //inner window (top)

      rect(x+margin, y+margin, w-margin*2, winHt);

      //inner windows (bottom)

      rect(x+margin, y+winHt+margin*2, w-margin*2, winHt);

      break;

    case 2:

      winWdth = (w-margin*3)/2;

      winHt = (h-margin*3)/2;

      //outer window (sash)

      rect(x, y, w, h);

      //inner window (top-left)

      rect(x+margin, y+margin, winWdth, winHt);

      //inner window (top-right)

      rect(x+winWdth+margin*2,  y+margin, winWdth, winHt);

      //inner windows (bottom-left)

      rect(x+margin, y+winHt+margin*2, winWdth, winHt);

      //inner windows (bottom-right)

      rect(x+winWdth+margin*2,  y+winHt+margin*2, winWdth, winHt);

      break;

    }

  }



  // set window style (number of panes)

  void setStyle(int style){

    this.style = style;

  }

}



class Roof{

  //roof properties

  int x;

  int y;

  int w;

  int h;



  // roof style

  int style = 0;

  //constants  

  final static int CATHEDRAL = 0;

  final static int GAMBREL = 1;

  final static int DOME = 2;



  // default constructor

  Roof(){

  }

   

   // constructor 2

   Roof(int style){

    this.style = style;

  }



  // draw the roof

  void drawRoof(int x, int y, int w, int h) {

    switch(style){

    case 0:

      beginShape();

      vertex(x, y);

      vertex(x+w/2, y-h/3);

      vertex(x+w, y);

      endShape(CLOSE);

      break;

    case 1:

     beginShape();

      vertex(x, y);

      vertex(x+w/7, y-h/4);

      vertex(x+w/2, y-h/2);

      vertex(x+(w-w/7), y-h/4);

      vertex(x+w, y);

      endShape(CLOSE);

      break;

    case 2:

      ellipseMode(CORNER);

      arc(x, y-h/2, w, h, PI, TWO_PI);

      line(x, y, x+w, y);

      break;

    }



  }



  // set roof style

  void setStyle(int style){

    this.style = style;

  }

}



class House{

  //house properties

  int x;

  int y;

  int w;

  int h;



  //component reference variables

  Door door;

  Window window;

  Roof roof;



  //optional autosize variable

  boolean AutoSizeComponents = false;



  //door placement

  int doorLoc = 0;

  //constants

  final static int MIDDLE_DOOR = 0;

  final static int LEFT_DOOR = 1;

  final static int RIGHT_DOOR = 2;



  //constructor

  House(int w, int h, Door door, Window window, Roof roof, int doorLoc) {

    this.w = w;

    this.h = h;

    this.door = door;

    this.window = window;

    this.roof = roof;

    this.doorLoc = doorLoc;

  }



  void drawHouse(int x, int y, boolean AutoSizeComponents) {

    this.x = x;

    this.y =y;

    this.AutoSizeComponents = AutoSizeComponents;



    //automatically sizes doors and windows

    if(AutoSizeComponents){

      //autosize door

      door.h = h/4;

      door.w = door.h/2;



      //autosize windows

      window.h = h/3;

      window.w = window.h/2;



    }

    // draw bldg block

    rect(x, y, w, h);



    // draw door

    switch(doorLoc){

    case 0:

      door.drawDoor(x+w/2-door.w/2, y+h-door.h);

      break;

    case 1:

      door.drawDoor(x+w/8, y+h-door.h);

      break;

    case 2:

      door.drawDoor(x+w-w/8-door.w,  y+h-door.h);

      break;

    }



    // draw windows

    int windowMargin = (w-window.w*2)/3;

    window.drawWindow(x+windowMargin, y+h/6);

    window.drawWindow(x+windowMargin*2+window.w, y+h/6);



    // draw roof

    roof.drawRoof(x, y, w, h);

  }



  // catch drawHouse method without boolean argument

  void drawHouse(int x, int y){

    // recall with required 3rd argument

    drawHouse(x, y, false);

  }

}</pre></div>






        </div>
        <div class="sidebar span4">
          <h3><a href="/processingjs-org/download/">Downloads</a></h3>
          <ul>
            <li><a href="/processingjs-org/download/">Download the latest version of Processing.js!</a></li>
          </ul>

          <h3><a href="/processingjs-org/articles/">Articles</a></h3>
          <ul>
            <li><a href="/processingjs-org/articles/jsQuickStart.html">Quick Start - JavaScript Developer</a></li>
            <li><a href="/processingjs-org/articles/p5QuickStart.html">Quick Start - Processing Developer</a></li>
            <li><a href="/processingjs-org/articles/RenderingModes.html">Rendering Modes</a></li>
            <li><a href="/processingjs-org/articles/PomaxGuide.html">Pomax's Guide to processing-js</a></li>
          </ul>

          <h3><a>Web IDEs</a></h3>
          <ul>
            <li><a href="http://sketchpad.cc">Sketchpad.cc</a></li>
            <li><a href="/processingjs-org/tools/processing-helper.html">Processing.js Helper</a></li>
            <li><a href="http://www.openprocessing.org">OpenProcessing.org</a></li>
          </ul>

          <h3><a href="/processingjs-org/community/">Community</a></h3>
          <ul>
            <li><a href="irc://irc.mozilla.org/processing.js">IRC Channel</a></li>
            <li><a href="http://processing-js.lighthouseapp.com/">Bug Tracker</a></li>
            <li><a href="http://github.com/processing-js/processing-js/">Github Repository</a></li>
            <li><a href="http://groups.google.com/group/processingjs">Google Group</a></li>
            <li><a href="http://zenit.senecac.on.ca/wiki/index.php/">Open Source @ Seneca</a></li>
          </ul>

          <h3><a href="http://twitter.com/processingjs">Twitter Feed</a></h3>
          <div class="twitter"></div>
        </div>
      </div>

      <div class="footer">
        Processing is an open visualization language developed by
        <a href="http://benfry.com/">Ben Fry</a> &amp; <a href="http://reas.com/">Casey Reas</a>,
        and originally ported to Javascript by
        <a href="http://ejohn.org/blog/processingjs/">John Resig</a>.
        Processing.js is maintained by the Processing.js team.
      </div>
    </div>
    <a href="http://github.com/processing-js/processing-js/">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="/processingjs-org/images/forkme-right-orange.png" alt="Fork me on GitHub">
    </a>
  </body>
</html>
