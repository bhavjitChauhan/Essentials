/**
 * Essentials.
 *
 * The Essentials library provides utility functions for the Khan Academy
 * Processing Environment.
 *
 * @link https://github.com/bhavjitChauhan/Essentials
 * @file Minified CDN Essentials Build
 * @author Bhavjit Chauhan
 */

//jshint ignore: start

_environment_=this instanceof Processing?"CDN":"KA",_console_style_="font-family:system-ui;font-size:0.75rem;",_core_initialized_="undefined"!=typeof ESSENTIALS_CORE,ESSENTIALS_CORE=!0,ESSENTIALS_VERSION="1.1.0",ESSENTIALS_ASCII="\n    _/_/_/_/    _/_/_/    _/_/_/  _/_/_/_/  _/      _/  _/_/_/_/_/  _/_/_/    _/_/    _/          _/_/_/\n   _/        _/        _/        _/        _/_/    _/      _/        _/    _/    _/  _/        _/\n  _/_/_/      _/_/      _/_/    _/_/_/    _/  _/  _/      _/        _/    _/_/_/_/  _/          _/_/\n _/              _/        _/  _/        _/    _/_/      _/        _/    _/    _/  _/              _/\n_/_/_/_/  _/_/_/    _/_/_/    _/_/_/_/  _/      _/      _/      _/_/_/  _/    _/  _/_/_/_/  _/_/_/\n\n",_silent_="undefined"!=typeof _silent_&&_silent_,_silent_||_core_initialized_||console.info(`%cESSENTIALS\n%cThe Khan Academy utility library.\n\n${_environment_} Build\nVersion ${ESSENTIALS_VERSION}\nCopyright Â© 2021 Bhavjit Chauhan\nhttps://github.com/bhavjitChauhan/Essentials`,"color:transparent;\nfont-size:3rem;\nbackground-image: url('https://github.com/bhavjitChauhan/Essentials/blob/master/logo.png?raw=true');\nbackground-position:center;\nbackground-repeat: no-repeat;\nbackground-size:contain;",_console_style_),_eval=eval,e=Processing.instances[0],[LEFT,RIGHT,TOP,BOTTOM,UP,DOWN]=[e.LEFT,e.RIGHT,e.TOP,e.BOTTOM,e.UP,e.DOWN],TOP_LEFT=1,TOP_RIGHT=2,BOTTOM_RIGHT=3,BOTTOM_LEFT=4,WIDTH=e.width,HEIGHT=e.height,HALF_WIDTH=WIDTH/2,HALF_HEIGHT=HEIGHT/2,CANVAS="#output-canvas",CANVAS_LOG="body div:first div:nth-child(2) div div",clearLogs=()=>e._clearLogs(),noop=()=>_.noop,restart=()=>e.Program.restart(),attempt=(e,...o)=>{try{return e(...o)}catch(e){return e instanceof Error?e:new Error(e)}},chainAsync=e=>{let o=0;const t=_.last(e),r=()=>{const n=e[o++];n===t?n():n(r)};r()},clean=o=>{const t=o.toString().replace(/__env__\.KAInfiniteLoopCount\+\+;/g,"").replace(/if \(__env__\.KAInfiniteLoopCount > 1000\) {[\s]+__env__\.KAInfiniteLoopProtect\('[^']*'\);[^}]+}/g,"").replace(/__env__\.PJSOutput\.applyInstance\((__env__\.\S+), '\S+'\)/g,"new $1");return Object.constructor(`return (function(__env__) {return ${t};});`)()(e)},complement=e=>(...o)=>!e(...o),generateUUID=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),getColonTime=function(){return(new Date).toTimeString().slice(0,8)},inherit=(e,o)=>{Object.setPrototypeOf(e.prototype,o.prototype),e.prototype.constructor=e,o.prototype.constructor===Object&&(o.prototype.constructor=o)},isFont=e=>"object"==typeof e&&_.isFunction(e.getCSSDefinition),isImage=e=>"object"==typeof e&&_.isObject(e.sourceImg),isSound=e=>"object"==typeof e&&_.isObject(e.audio),mostPerformant=(e,o=1e4)=>{const t=e.map((e=>{const t=performance.now();for(let t=0;t<o;t++)e();return performance.now()-t}));return t.indexOf(Math.min(...t))},pop=()=>{e.popStyle(),e.popMatrix()},printf=function(o){const t=Array.from(arguments).slice(1);for(const e in t)o=o.replace(/(?<!\\)%/,t[e]);o=o.replaceAll(/\\%/g,"%"),e.println(o)},push=()=>{e.pushMatrix(),e.pushStyle()},randomInt=(e,o)=>_.random(e,o),showGraphics=(o,t,r,n,l,s=e.P2D)=>{const c=e.createGraphics(r,n,s);l.call(c),e.image(c,o,t)},timeTaken=(e,o="default")=>{console.time(`timeTaken#${o}`);const t=e();return console.timeEnd(`timeTaken#${o}`),t},_color_initialized_="undefined"!=typeof COLOR_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Color Essentials depends on the Essentials Core."):(COLOR_ESSENTIALS=!0,_silent_||_color_initialized_||console.info("%cColor Essentials",_console_style_)),angularGradient=(o,t,n,l,s,c,i=0,a=5)=>{i-=90;const p=Math.ceil(10*e.degrees(Math.atan(a/Math.max(n,l))))/10;if(push(),1==a){e.strokeWeight(1.5);for(let a=i;a<i+359;a+=p)e.stroke(e.lerpColor(s,c,(a-i)/360)),r=e.radians(a),e.line(o+n/2,t+l/2,e.map(Math.cos(r),-1,1,o,o+n),e.map(Math.sin(r),-1,1,t,t+l))}else{e.strokeWeight(1);for(let r=i;r<i+359;r+=p){const a=e.lerpColor(s,c,(r-i)/360);e.stroke(a),e.fill(a),r1=e.radians(r),r2=e.radians(r-p),e.triangle(o+n/2,t+l/2,e.map(Math.cos(r1),-1,1,o,o+n),e.map(Math.sin(r1),-1,1,t,t+l),e.map(Math.cos(r2),-1,1,o,o+n),e.map(Math.sin(r2),-1,1,t,t+l))}}pop()},circularGradient=(o,t,n,l,s,c,i=0,a=5)=>{const p=Math.ceil(10*e.degrees(Math.atan(a/Math.max(n,l))))/10;if(push(),1==a){e.strokeWeight(1.5);for(let a=i-1;a<i+180;a+=p)e.stroke(e.lerpColor(s,c,Math.abs((a-i)/180))),r=e.radians(a),e.line(o+n/2,t+l/2,e.map(Math.cos(r),-1,1,o,o+n),e.map(Math.sin(r),-1,1,t,t+l));for(let a=i-1;a>i-180;a-=p)e.stroke(e.lerpColor(s,c,Math.abs((a-i)/180))),r=e.radians(a),e.line(o+n/2,t+l/2,e.map(Math.cos(r),-1,1,o,o+n),e.map(Math.sin(r),-1,1,t,t+l))}else{e.strokeWeight(1);for(let r=i-1;r<i+180;r+=p){const a=e.lerpColor(s,c,Math.abs((r-i)/180));e.stroke(a),e.fill(a),r1=e.radians(r),r2=e.radians(r-p),e.triangle(o+n/2,t+l/2,e.map(Math.cos(r1),-1,1,o,o+n),e.map(Math.sin(r1),-1,1,t,t+l),e.map(Math.cos(r2),-1,1,o,o+n),e.map(Math.sin(r2),-1,1,t,t+l))}r1=e.radians(i-180),r2=e.radians(i-180-p),e.stroke(c),e.fill(c),e.triangle(o+n/2,t+l/2,e.map(Math.cos(r1),-1,1,o,o+n),e.map(Math.sin(r1),-1,1,t,t+l),e.map(Math.cos(r2),-1,1,o,o+n),e.map(Math.sin(r2),-1,1,t,t+l));for(let r=i-1;r>i-180;r-=p){const a=e.lerpColor(s,c,Math.abs((r-i)/180));e.stroke(a),e.fill(a),r1=e.radians(r),r2=e.radians(r-p),e.triangle(o+n/2,t+l/2,e.map(Math.cos(r1),-1,1,o,o+n),e.map(Math.sin(r1),-1,1,t,t+l),e.map(Math.cos(r2),-1,1,o,o+n),e.map(Math.sin(r2),-1,1,t,t+l))}}pop()},RED=e.color(255,0,0),GREEN=e.color(0,128,0),BLUE=e.color(0,0,255),LIGHTSALMON=e.color(255,160,122),SALMON=e.color(250,128,114),DARKSALMON=e.color(233,150,122),LIGHTCORAL=e.color(240,128,128),INDIANRED=e.color(205,92,92),CRIMSON=e.color(220,20,60),FIREBRICK=e.color(178,34,34),DARKRED=e.color(139,0,0),CORAL=e.color(255,127,80),TOMATO=e.color(255,99,71),ORANGERED=e.color(255,69,0),GOLD=e.color(255,215,0),ORANGE=e.color(255,165,0),DARKORANGE=e.color(255,140,0),LIGHTYELLOW=e.color(255,255,224),LEMONCHIFFON=e.color(255,250,205),LIGHTGOLDENRODYELLOW=e.color(250,250,210),PAPAYAWHIP=e.color(255,239,213),MOCCASIN=e.color(255,228,181),PEACHPUFF=e.color(255,218,185),PALEGOLDENROD=e.color(238,232,170),KHAKI=e.color(240,230,140),DARKKHAKI=e.color(189,183,107),YELLOW=e.color(255,255,0),LAWNGREEN=e.color(124,252,0),CHARTREUSE=e.color(127,255,0),LIMEGREEN=e.color(50,205,50),LIME=e.color(0,255,0),FORESTGREEN=e.color(34,139,34),DARKGREEN=e.color(0,100,0),GREENYELLOW=e.color(173,255,47),YELLOWGREEN=e.color(154,205,50),SPRINGGREEN=e.color(0,255,127),MEDIUMSPRINGGREEN=e.color(0,250,154),LIGHTGREEN=e.color(144,238,144),PALEGREEN=e.color(152,251,152),DARKSEAGREEN=e.color(143,188,143),MEDIUMSEAGREEN=e.color(60,179,113),SEAGREEN=e.color(46,139,87),OLIVE=e.color(128,128,0),DARKOLIVEGREEN=e.color(85,107,47),OLIVEDRAB=e.color(107,142,35),LIGHTCYAN=e.color(224,255,255),CYAN=e.color(0,255,255),AQUA=e.color(0,255,255),AQUAMARINE=e.color(127,255,212),MEDIUMAQUAMARINE=e.color(102,205,170),PALETURQUOISE=e.color(175,238,238),TURQUOISE=e.color(64,224,208),MEDIUMTURQUOISE=e.color(72,209,204),DARKTURQUOISE=e.color(0,206,209),LIGHTSEAGREEN=e.color(32,178,170),CADETBLUE=e.color(95,158,160),DARKCYAN=e.color(0,139,139),TEAL=e.color(0,128,128),POWDERBLUE=e.color(176,224,230),LIGHTBLUE=e.color(173,216,230),LIGHTSKYBLUE=e.color(135,206,250),SKYBLUE=e.color(135,206,235),DEEPSKYBLUE=e.color(0,191,255),LIGHTSTEELBLUE=e.color(176,196,222),DODGERBLUE=e.color(30,144,255),CORNFLOWERBLUE=e.color(100,149,237),STEELBLUE=e.color(70,130,180),ROYALBLUE=e.color(65,105,225),MEDIUMBLUE=e.color(0,0,205),DARKBLUE=e.color(0,0,139),NAVY=e.color(0,0,128),MIDNIGHTBLUE=e.color(25,25,112),MEDIUMSLATEBLUE=e.color(123,104,238),SLATEBLUE=e.color(106,90,205),DARKSLATEBLUE=e.color(72,61,139),LAVENDER=e.color(230,230,250),THISTLE=e.color(216,191,216),PLUM=e.color(221,160,221),VIOLET=e.color(238,130,238),ORCHID=e.color(218,112,214),FUCHSIA=e.color(255,0,255),MAGENTA=e.color(255,0,255),MEDIUMORCHID=e.color(186,85,211),MEDIUMPURPLE=e.color(147,112,219),BLUEVIOLET=e.color(138,43,226),DARKVIOLET=e.color(148,0,211),DARKORCHID=e.color(153,50,204),DARKMAGENTA=e.color(139,0,139),PURPLE=e.color(128,0,128),INDIGO=e.color(75,0,130),PINK=e.color(255,192,203),LIGHTPINK=e.color(255,182,193),HOTPINK=e.color(255,105,180),DEEPPINK=e.color(255,20,147),PALEVIOLETRED=e.color(219,112,147),MEDIUMVIOLETRED=e.color(199,21,133),WHITE=e.color(255,255,255),SNOW=e.color(255,250,250),HONEYDEW=e.color(240,255,240),MINTCREAM=e.color(245,255,250),AZURE=e.color(240,255,255),ALICEBLUE=e.color(240,248,255),GHOSTWHITE=e.color(248,248,255),WHITESMOKE=e.color(245,245,245),SEASHELL=e.color(255,245,238),BEIGE=e.color(245,245,220),OLDLACE=e.color(253,245,230),FLORALWHITE=e.color(255,250,240),IVORY=e.color(255,255,240),ANTIQUEWHITE=e.color(250,235,215),LINEN=e.color(250,240,230),LAVENDERBLUSH=e.color(255,240,245),MISTYROSE=e.color(255,228,225),GAINSBORO=e.color(220,220,220),LIGHTGRAY=e.color(211,211,211),SILVER=e.color(192,192,192),DARKGRAY=e.color(169,169,169),GRAY=e.color(128,128,128),DIMGRAY=e.color(105,105,105),LIGHTSLATEGRAY=e.color(119,136,153),SLATEGRAY=e.color(112,128,144),DARKSLATEGRAY=e.color(47,79,79),BLACK=e.color(0,0,0),CORNSILK=e.color(255,248,220),BLANCHEDALMOND=e.color(255,235,205),BISQUE=e.color(255,228,196),NAVAJOWHITE=e.color(255,222,173),WHEAT=e.color(245,222,179),BURLYWOOD=e.color(222,184,135),TAN=e.color(210,180,140),ROSYBROWN=e.color(188,143,143),SANDYBROWN=e.color(244,164,96),GOLDENROD=e.color(218,165,32),PERU=e.color(205,133,63),CHOCOLATE=e.color(210,105,30),SADDLEBROWN=e.color(139,69,19),SIENNA=e.color(160,82,45),BROWN=e.color(165,42,42),MAROON=e.color(128,0,0),TRANSPARENT=e.color(255,0),hexToRGB=o=>{o=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,o,t,r){return o+o+t+t+r+r}));let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return t=t?t.splice(1).map((function(e){return parseInt(e,16)})):null,push(),e.colorMode(e.RGB),t=e.color.apply(e,t),pop(),t},HSBToRGB=function(o,t,r){1==arguments.length&&(c=o,o=e.hue(c),t=e.saturation(c),r=e.brightness(c)),o/=255,t/=255,r/=255;const n=Math.floor(6*o),l=6*o-n,s=r*(1-t),i=r*(1-l*t),a=r*(1-(1-l)*t);let p,E,_;switch(n%6){case 0:p=r,E=a,_=s;break;case 1:p=i,E=r,_=s;break;case 2:p=s,E=r,_=a;break;case 3:p=s,E=i,_=r;break;case 4:p=a,E=s,_=r;break;case 5:p=r,E=s,_=i}const h=[p,E,_].map((function(e){return 255*e}));return e.color.apply(e,h)},linearGradient=(o,t,r,n,l,s,c=RIGHT,i=5)=>{switch(push(),e.strokeWeight(1),c){case LEFT:case RIGHT:if(c==LEFT&&([l,s]=[s,l]),1==i)for(let c=0;c<r;c++)e.stroke(e.lerpColor(l,s,c/r)),e.line(o+c,t,o+c,t+n);else for(let c=0;c<r;c+=i){const a=e.lerpColor(l,s,c/r);e.stroke(a),e.fill(a),c+i>r?e.rect(o+c,t,r-c,n):e.rect(o+c,t,i,n)}break;case TOP:case UP:case BOTTOM:case DOWN:if(c!=TOP&&c!=UP||([l,s]=[s,l]),1==i)for(let c=0;c<n;c++)e.stroke(e.lerpColor(l,s,c/n)),e.line(o,t+c,o+r,t+c);else for(let c=0;c<n;c+=i){const a=e.lerpColor(l,s,c/n);e.stroke(a),e.fill(a),c+i>r?e.rect(o,t+c,r,n-c):e.rect(o,t+c,r,i)}break;case TOP_LEFT:case BOTTOM_RIGHT:if(c==TOP_LEFT&&([l,s]=[s,l]),1==i){for(let c=0;c<r;c++)e.stroke(e.lerpColor(l,s,c/r/2)),e.line(o+c,t,o,t+e.map(c,0,r,0,n));for(let c=0;c<r;c++)e.stroke(e.lerpColor(l,s,c/r/2+.5)),e.line(o+c,t+n,o+r,t+e.map(c,0,r,0,n))}else{const e=Math.max(r,n)*Math.sqrt(2);showGraphics(o,t,r,n,(function(){this.angleMode="degrees",this.rotate(-45);for(let o=0;o<e;o+=i){const t=this.lerpColor(l,s,o/e);this.stroke(t),this.fill(t),o+i>e?this.rect(-e/2,o,e,e-o):this.rect(-e/2,o,e,i)}}))}break;case TOP_RIGHT:case BOTTOM_LEFT:if(c==TOP_RIGHT&&([l,s]=[s,l]),1==i){for(let c=0;c<r;c++)e.stroke(e.lerpColor(l,s,c/r/2)),e.line(o+r-c,t,o+r,t+e.map(c,0,r,0,n));for(let c=0;c<r;c++)e.stroke(e.lerpColor(l,s,c/r/2+.5)),e.line(o+r-c,t+n,o,t+e.map(c,0,r,0,n))}else{const e=Math.max(r,n)*Math.sqrt(2);showGraphics(o,t,r,n,(function(){this.angleMode="degrees",this.rotate(45);for(let o=0;o<e;o+=i){const t=this.lerpColor(l,s,o/e);this.stroke(t),this.fill(t),o+i>e?this.rect(0,o-e/2,e,e-o):this.rect(0,o-e/2,e,i)}}))}}pop()},radialGradient=(o,t,r,n,l,s,c=5)=>{push(),e.strokeWeight(1);const i=Math.max(r,n);if(1==c){e.noFill();for(let c=0;c<i;c++)e.stroke(e.lerpColor(s,l,c/i)),e.arc(o,t,r-e.map(c,0,i,0,r),n-e.map(c,0,i,0,n),0,360)}else for(let a=0;a<i;a+=c){const c=e.lerpColor(s,l,a/i);e.stroke(c),e.fill(c),e.ellipse(o,t,r-e.map(a,0,i,0,r),n-e.map(a,0,i,0,n))}pop()},RGBToHex=function(e,o,t){return 1==arguments.length&&(c=e,e=c>>16&255,o=c>>8&255,t=255&c),"#"+((1<<24)+(e<<16)+(o<<8)+t).toString(16).slice(1)},RGBToHSB=function(o,t,r){1==arguments.length&&(c=o,o=c>>16&255,t=c>>8&255,r=255&c),o/=255,t/=255,r/=255;const n=Math.max(o,t,r),l=Math.min(o,t,r),s=n,i=n-l,a=0===n?0:i/n;if(n===l)h=0;else{switch(n){case o:h=(t-r)/i+(t<r?6:0);break;case t:h=(r-o)/i+2;break;case r:h=(o-t)/i+4}h/=6}let p=[h,a,s].map((function(e){return 255*e}));return push(),e.colorMode(e.HSB),p=e.color.apply(e,p),pop(),p},toHSB=function(){const o=arguments;if(1==o.length){const t=o[0];return"number"==typeof t?[e.hue(t),e.saturation(t),e.brightness(t)]:RGBToHSB.apply(e,toRGB(hexToRGB(t)))}if(3==o.length)return RGBToHSB.apply(e,o)},toRGB=function(){const o=arguments;if(1==o.length){const t=o[0];return"number"==typeof t?[e.red(t),e.green(t),e.blue(t)]:hexToRGB(t)}if(3==o.length)return HSBToRGB.apply(e,o)},_text_initialized_="undefined"!=typeof TEXT_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Text Essentials depends on the Essentials Core."):"undefined"==typeof COLOR_ESSENTIALS?console.error("Text Essentials depends on Color Essentials."):(TEXT_ESSENTIALS=!0,_silent_||_text_initialized_||console.info("%cText Essentials",_console_style_)),fastGradientText=(o,t=0,r=e.textAscent(),n,l)=>{if(push(),o.includes("\n")){const e=o.split("\n");for(const o in e)fastGradientText(e[o],t,r+o*textAscent(),n,l)}else for(let s=0;s<o.length;s++)e.fill(e.lerpColor(n,l,s/o.length)),e.text(o[s],t+e.textWidth(o.slice(0,s)),r);pop()},font=function(o){let t=Array.from(arguments).slice(1);t.push("");let r,n=t.find((function(e){return _.isBoolean(e)}));n=!_.isBoolean(n)&&!0,t=_.without(t,!0,!1);let l=t.find((function(e){return!isNaN(e)}));if(isFont(o)){r=o,l=l||+r.css.match(/\d+/)[0],previousCSS=r.css.split(" "),previousProperties=previousCSS.slice(0,-2).filter((function(e){return"normal"!==e})),t=_.union(t,previousProperties);let e=t.filter((function(e){return!!_.isString(e)&&"-"==e.charAt(0)}));e=e.map((function(e){return e.substr(1)})),t=t.filter((function(e){return!!_.isString(e)&&"-"!=e.charAt(0)})),t=_.difference(t,e).join(" "),r.css=`${t} ${l}px/${l+2}px ${_.last(previousCSS)}`}else l=l||12,r=e.createFont(o,l),t=_.without(t,l),r.css=(!_.isEmpty(t)&&t.join(" ")+" ")+`${l}px/${l+2}px ${o}`;return n&&e.textFont(r),r},formatDuration=e=>{e<0&&(e=-e);const o={day:Math.floor(e/864e5),hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(o).filter((e=>0!==e[1])).map((([e,o])=>`${o} ${e}${1!==o?"s":""}`)).join(", ")},highlightText=(o,t=0,r=e.textAscent(),n=YELLOW)=>{if(/\S/.test(o)){o=o.split("\n"),e.noStroke(),e.rectMode(e.CORNER),e.textAlign(e.LEFT,e.TOP);for(const l in o)o[l]=` ${o[l]} `,push(),e.fill(n),e.rect(t,r+l*e.textAscent()*2,e.textWidth(o[l]),1.75*e.textAscent()),pop(),e.text(o[l],t,r+l*e.textAscent()*2)}},lightOrDarkText=o=>{let t,r,n;if("string"==typeof o){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);t=parseInt(e[1],16),r=parseInt(e[2],16),n=parseInt(e[3],16)}else t=e.red(o),r=e.green(o),n=e.blue(o);return(t+n+r)/3<225?WHITE:BLACK},multicoloredText=(o,t=0,r=e.textAscent())=>{if(/\S/.test(o)){o=o.split("\n"),push(),e.textAlign(e.LEFT,e.CORNER);for(const n in o){o[n]=o[n].split(/\[|]/);let l=0;for(const s in o[n])if(/\d+,\d+,\d+/.test(o[n][s])){const t=o[n][s].split(",");e.fill.apply(e,t),delete o[n][s],0===l&&(o[n][s-1]+=" "),l+=1}else{const c=e.textWidth(o[n].slice(0,s));e.text(o[n][s],t+c-2*l*e.textWidth(" "),r+n*e.textAscent()*2)}}pop()}},ordinalSuffix=e=>{const o=parseInt(e,10),t=[o%10,o%100],r=["st","nd","rd","th"];return[1,2,3,4].includes(t[0])&&![11,12,13,14,15,16,17,18,19].includes(t[1])?o+r[t[0]-1]:o+r[3]},outlineText=(o,t=0,r=e.textAscent(),n=BLACK)=>{if(/\S/.test(o)){push(),e.fill(n);for(let n=-2;n<3;n++){for(let l=-1;l<3;l++)e.text(o,t+n,r+l);e.text(o,t+n,r),e.text(o,t,r+n)}pop(),e.text(o,t,r)}},pluralize=(e,o,t=o+"s")=>{const r=(e,o,t=o+"s")=>[1,-1].includes(Number(e))?o:t;return"object"==typeof e?(o,t)=>r(o,t,e[t]):r(e,o,t)},String.prototype.format=function(){let o=this,t=_.first(o.match(/\${.*?}/));for(;t;){let r;try{r=_eval(`\`${t}\``)}catch(o){const n=t.match(/(\w+)\(/)[1],l=t.match(/\(([^)]+)\)/)[1].split(",");r=e[n](...l)}o=o.replace(t,r),t=_.first(o.match(/\${.*?}/))}return o},String.prototype.obfuscate=function(){let e="";for(const o in _.range(this.length)){let t=this.charCodeAt(o).toString(16);if(t.length<=2){for(;t.length<2;)t="0"+t;e+="\\x"+t}else{for(;t.length<4;)t="0"+t;e+="\\u"+t}}return e},String.prototype.removeNonASCII=function(){return this.replace(/[^\x20-\x7E]/g,"")},String.prototype.toCamelCase=function(){const e=this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase())).join("");return e.slice(0,1).toLowerCase()+e.slice(1)},String.prototype.toKebabCase=function(){return this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.toLowerCase())).join("-")},String.prototype.toSnakeCase=function(){return this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.toLowerCase())).join("_")},String.prototype.toTitleCase=function(){return this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")},underlineText=(o,t=0,r=e.textAscent(),n=BLACK,l=e.externals.context.font.match(/\d+/)[0]/12)=>{if(/\S/.test(o)){strings=o.split("\n"),push(),e.strokeCap(e.SQUARE),e.strokeWeight(l),e.stroke(n);for(const o in strings)e.line(t,r+e.textAscent()/4+e.textAscent()*o*1.55,t+e.textWidth(strings[o]),r+e.textAscent()/4+e.textAscent()*o*1.55);e.textAlign(e.LEFT,e.CORNER),e.text(o,t,r),pop()}},wordWrap=(e,o,t="\n")=>e.replace(new RegExp(`(?![^\\n]{1,${o}}$)([^\\n]{1,${o}})\\s`,"g"),"$1"+t),_shape_initialized_="undefined"!=typeof SHAPE_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Shape Essentials depends on the Essentials Core."):(SHAPE_ESSENTIALS=!0,_silent_||_shape_initialized_||console.info("%cShape Essentials",_console_style_)),blurRect=(o,t,r,n,l)=>{l<=0||(l=e.constrain(l,0,Math.min(r,n)),e.image(e.get(o,t,r,n),o,t,r/l,n/l),e.image(e.get(o,t,r/l,n/l),o,t,r,n))},circle=(o,t,r)=>e.ellipse(o,t,r,r),cylinder=(o,t,r,n)=>{if(r=Math.abs(r),n=Math.abs(n),push(),e.translate(o,t),n>r){const o=Math.cos(Math.PI)<0?e.TWO_PI:360;e.rotate(o/4),cylinder(0,0,n,r)}else{const o=n/2,t=(r-n)/2,l=4/3*(Math.sqrt(2)-1)*o;drawShape((()=>{e.vertex(t,-o),e.bezierVertex(t+l,-o,t+o,-l,t+o,0),e.bezierVertex(t+o,l,t+l,o,t,o),e.vertex(-t,o),e.bezierVertex(-t-l,o,-t-o,l,-t-o,0),e.bezierVertex(-t-o,-l,-t-l,-o,-t,-o)}),!0)}pop()},dashedLine=(o,t,r,n,l=10,s=10,c=!0,i=!0)=>{const a=e.dist(o,t,r,n);let p=0;for(;p<=a-l;p+=l+2*s)e.line(e.map(p,0,a,o,r),e.map(p,0,a,t,n),e.map(p+l,0,a,o,r),e.map(p+l,0,a,t,n));c&&p<a&&e.line(e.map(p,0,a,o,r),e.map(p,0,a,t,n),r,n),i&&p>=a&&e.point(r+.5,n+.5)},donut=(o,t,r,n)=>{const l=4/3*(Math.sqrt(2)-1);push(),e.translate(o,t),push(),e.noStroke(),drawShape((()=>{let o=n/2,t=l*o;e.vertex(o,0),e.bezierVertex(o,t,t,o,0,o),e.bezierVertex(-t,o,-o,t,-o,0),e.bezierVertex(-o,-t,-t,-o,0,-o),e.bezierVertex(t,-o,o,-t,o,0),o=r/2,t=l*o,e.vertex(o,0),e.bezierVertex(o,-t,t,-o,0,-o),e.bezierVertex(-t,-o,-o,-t,-o,0),e.bezierVertex(-o,t,-t,o,0,o),e.bezierVertex(t,o,o,t,o,0)}),!0),pop(),push(),e.noFill(),circle(0,0,n),circle(0,0,r),pop(),pop()},dottedLine=(o,t,r,n,l=10,s=!0)=>{const c=e.dist(o,t,r,n);for(let s=0;s<c;s+=l)e.point(e.map(s,0,c,o,r),e.map(s,0,c,t,n));s&&e.point(r,n)},drawShape=(o,t,r)=>{t=t&&e.CLOSE,e.beginShape(r),o(),e.endShape(t)},edge=(o,t,r,n)=>{"degrees"==angleMode&&(n=e.radians(n));const l=o+r*Math.cos(n),s=t+r*Math.sin(n);line(o,t,l,s)},heart=(o,t,r)=>{const n=t-2*r/5,l=t+r,s=t-6*r/5,c=t-2*r/5;let i=o+r/2,a=o+9*r/5;drawShape((()=>{e.vertex(o,n),e.bezierVertex(i,s,a,c,o,l),i=2*o-i,a=2*o-a,e.bezierVertex(a,c,i,s,o,n)}),!0)},parallelogram=(o,t,r,n,l,s)=>{const c=r-o,i=n-t;e.quad(o,t,r,n,l+c,s+i,l,s)},polygon=(o,t,r,n,l)=>{const s=Math.cos(Math.PI)<0?2*Math.PI:360;push(),e.translate(o,t),e.rotate(null==l?-s/4:l),drawShape((()=>{for(let o=0;o<s;o+=s/r)e.vertex(n*Math.cos(o),n*Math.sin(o))}),!0),pop()},rectangle=(o,t,r,n=r,l,s,c,i)=>{null==l?e.rect(o,t,r,n):null==s?e.rect(o,t,r,n,l):null==c?e.rect(o,t,r,n,l,l,s,s):null==i?e.rect(o,t,r,n,l,s,c,0):e.rect(o,t,r,n,l,s,c,i)},rhombus=(o,t,r,n,l,s)=>{const c=e.dist(o,t,r,n)/e.dist(o,t,l,s);l=o+c*(l-o),s=t+c*(s-t),parallelogram(o,t,r,n,l,s)},square=(o,t,r,n,l,s,c)=>{null==n?e.rect(o,t,r,r):null==l?e.rect(o,t,r,r,n):null==s?e.rect(o,t,r,r,n,n,l,l):null==c?e.rect(o,t,r,r,n,l,s,0):e.rect(o,t,r,r,n,l,s,c)},star=(o,t,r,n=5,l)=>{const s=Math.cos(Math.PI)<0?e.TWO_PI:360,c=r*Math.sin(.05*s)/Math.sin(.35*s);push(),e.translate(o,t),e.rotate(null==l?-s/4:l),drawShape((()=>{let o;for(let t=0;t<s;t+=s/(2*n))o=o===r?c:r,e.vertex(o*Math.cos(t),o*Math.sin(t))}),!0),pop()},trapezoid=(o,t,r,n,l)=>{const s=Math.max(n,l);e.quad(o+(s-n)/2,t,o+(s-n)/2+n-1,t,o+(s-l)/2+l-1,t+r-1,o+(s-l)/2,t+r-1)};