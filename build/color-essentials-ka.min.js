function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function(){};return{s:F,n:function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function(){it=it.call(o)},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(e){didErr=true;err=e},f:function(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}_color_initialized_=typeof COLOR_ESSENTIALS!=="undefined";if(typeof ESSENTIALS_CORE==="undefined"){console.error("Color Essentials depends on the Essentials Core.")}else{COLOR_ESSENTIALS=true;if(!_silent_&&!_color_initialized_)console.info("%cColor Essentials",_console_style_)}BRIGHTNESS="brightness";LUMINANCE="brightness";CONTRAST="contrast";DROP_SHADOW="drop-shadow";GRAYSCALE=p.GRAY;HUE_ROTATE="hue-rotate";OPACITY="opacity";SATURATE="saturate";SEPIA="sepia";RGB_COLOR_RANGE=[255,255,255,255];HSB_COLOR_RANGE=[360,100,100,100];MEDIUM_VIOLET_RED=4291237253;DEEP_PINK=4294907027;PALE_VIOLET_RED=4292571283;HOT_PINK=4294928820;LIGHT_PINK=4294948545;PINK=4294951115;DARK_RED=4287299584;RED=4294901760;FIRE_BRICK=4289864226;CRIMSON=4292613180;INDIAN_RED=4291648604;LIGHT_CORAL=4293951616;SALMON=4294606962;DARK_SALMON=4293498490;LIGHT_SALMON=4294942842;ORANGE_RED=4294919424;TOMATO=4294927175;DARK_ORANGE=4294937600;CORAL=4294934352;ORANGE=4294944000;DARK_KHAKI=4290623339;GOLD=4294956800;KHAKI=4293977740;PEACH_PUFF=4294957753;YELLOW=4294967040;PALE_GOLDENROD=4293847210;MOCCASIN=4294960309;PAPAYA_WHIP=4294963157;LIGHT_GOLDENROD_YELLOW=4294638290;LEMON_CHIFFON=4294965965;LIGHT_YELLOW=4294967264;MAROON=4286578688;BROWN=4289014314;SADDLE_BROWN=4287317267;SIENNA=4288696877;CHOCOLATE=4291979550;DARK_GOLDENROD=4290283019;PERU=4291659071;ROSY_BROWN=4290547599;GOLDENROD=4292519200;SANDY_BROWN=4294222944;TAN=4291998860;BURLY_WOOD=4292786311;WHEAT=4294303411;NAVAJO_WHITE=4294958765;BISQUE=4294960324;BLANCHED_ALMOND=4294962125;CORNSILK=4294965468;DARK_GREEN=4278215680;GREEN=4278222848;DARK_OLIVE_GREEN=4283788079;FOREST_GREEN=4280453922;SEA_GREEN=4281240407;OLIVE=4286611456;OLIVE_DRAB=4285238819;MEDIUM_SEA_GREEN=4282168177;LIME_GREEN=4281519410;LIME=4278255360;SPRING_GREEN=4278255487;MEDIUM_SPRING_GREEN=4278254234;DARK_SEA_GREEN=4287609999;MEDIUM_AQUAMARINE=4284927402;YELLOW_GREEN=4288335154;LAWN_GREEN=4286381056;CHARTREUSE=4286578432;LIGHT_GREEN=4287688336;GREEN_YELLOW=4289593135;PALE_GREEN=4288215960;TEAL=4278222976;DARK_CYAN=4278225803;LIGHT_SEA_GREEN=4280332970;CADET_BLUE=4284456608;DARK_TURQUOISE=4278243025;MEDIUM_TURQUOISE=4282962380;TURQUOISE=4282441936;AQUA=4278255615;CYAN=4278255615;AQUAMARINE=4286578644;PALE_TURQUOISE=4289720046;LIGHT_CYAN=4292935679;NAVY=4278190208;DARK_BLUE=4278190219;MEDIUM_BLUE=4278190285;BLUE=4278190335;MIDNIGHT_BLUE=4279834992;ROYAL_BLUE=4282477025;STEEL_BLUE=4282811060;DODGER_BLUE=4280193279;DEEP_SKY_BLUE=4278239231;CORNFLOWER_BLUE=4284782061;SKY_BLUE=4287090411;LIGHT_SKY_BLUE=4287090426;LIGHT_STEEL_BLUE=4289774814;LIGHT_BLUE=4289583334;POWDER_BLUE=4289781990;INDIGO=4283105410;PURPLE=4286578816;DARK_MAGENTA=4287299723;DARK_VIOLET=4287889619;DARK_SLATE_BLUE=4282924427;BLUE_VIOLET=4287245282;DARK_ORCHID=4288230092;FUCHSIA=4294902015;MAGENTA=4294902015;SLATE_BLUE=4285160141;MEDIUM_SLATE_BLUE=4286277870;MEDIUM_ORCHID=4290401747;MEDIUM_PURPLE=4287852763;ORCHID=4292505814;VIOLET=4293821166;PLUM=4292714717;THISTLE=4292394968;LAVENDER=4293322490;REBECCA_PURPLE=4284887961;MISTY_ROSE=4294960353;ANTIQUE_WHITE=4294634455;LINEN=4294635750;BEIGE=4294309340;WHITE_SMOKE=4294309365;LAVENDER_BLUSH=4294963445;OLD_LACE=4294833638;ALICE_BLUE=4293982463;SEASHELL=4294964718;GHOST_WHITE=4294506751;HONEYDEW=4293984240;FLORAL_WHITE=4294966000;AZURE=4293984255;MINT_CREAM=4294311930;SNOW=4294966010;IVORY=4294967280;WHITE=4294967295;BLACK=4278190080;DARK_SLATE_GRAY=DARK_SLATE_GREY=4281290575;DIM_GRAY=DIM_GREY=4285098345;SLATE_GRAY=SLATE_GREY=4285563024;GREY=4286611584;LIGHT_SLATE_GRAY=LIGHT_SLATE_GREY=4286023833;DARK_GRAY=DARK_GREY=4289309097;SILVER=4290822336;LIGHT_GRAY=LIGHT_GREY=4292072403;GAINSBORO=4292664540;_createColor=function(arr){var colorMode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getColorMode();var currentColorMode=arguments.length>2&&arguments[2]!==undefined?arguments[2]:colorMode;var oppositeColorMode=colorMode==p.RGB?p.HSB:p.RGB;var isDifferentColorMode=currentColorMode==oppositeColorMode;var defaultAlpha=getAlphaRange();if(currentColorMode!=colorMode){if(colorMode==p.RGB)defaultAlpha=RGB_COLOR_RANGE[3];else defaultAlpha=HSB_COLOR_RANGE[3]}arr=_parseColorArray(arr,defaultAlpha);if(isDifferentColorMode){p.pushStyle();presetColorMode(colorMode)}result=p.color.apply(null,arr);isDifferentColorMode&&p.popStyle();return result};_appendFilter=function(filter){if(ctx.filter=="none")return ctx.filter=filter;ctx.filter+=filter};_parseColorArray=function(arr){var defaultAlpha=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getAlphaRange();var range=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(_.isNumber(arr))arr=[arr];switch(arr.length){case 1:arr=[arr[0],arr[0],arr[0],range?arr[0]:defaultAlpha];break;case 2:arr=[arr[0],arr[0],arr[0],arr[1]];break;case 3:arr.push(defaultAlpha);}return arr};clearEffects=function(){return ctx.filter="none"};getAlphaRange=function(){return p.alpha(WHITE)};getBlueRange=function(){return p.blue(WHITE)};getBrightnessRange=function(){return getBlueRange()};getGreenRange=function(){return p.green(WHITE)};getHueRange=function(){return getRedRange()};getRedRange=function(){return p.red(WHITE)};getSaturationRange=function(){return getGreenRange()};getShadow=function(){return hexToRGB(ctx.shadowColor)};getShadowBlur=function(){return ctx.shadowBlur};isDefaultColorRange=function(){return getColorRange()==RGB_COLOR_RANGE};noShadow=function(){return shadow(TRANSPARENT)};getShadowOffset=function(){return[ctx.shadowOffsetX,ctx.shadowOffsetY]};angularGradient=function(x,y,width,height,startColor,endColor){var angle=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var step=arguments.length>7&&arguments[7]!==undefined?arguments[7]:5;angle-=90;var dTheta=Math.ceil(p.degrees(Math.atan(step/Math.max(width,height)))*10)/10;p.pushStyle();if(step==1){p.strokeWeight(1.5);for(var i=angle;i<angle+359;i+=dTheta){p.stroke(p.lerpColor(startColor,endColor,(i-angle)/360));r=p.radians(i);p.line(x+width/2,y+height/2,p.map(Math.cos(r),-1,1,x,x+width),p.map(Math.sin(r),-1,1,y,y+height))}}else{p.strokeWeight(1);for(var _i=angle;_i<angle+359;_i+=dTheta){var c=p.lerpColor(startColor,endColor,(_i-angle)/360);p.stroke(c);p.fill(c);r1=p.radians(_i);r2=p.radians(_i-dTheta);p.triangle(x+width/2,y+height/2,p.map(Math.cos(r1),-1,1,x,x+width),p.map(Math.sin(r1),-1,1,y,y+height),p.map(Math.cos(r2),-1,1,x,x+width),p.map(Math.sin(r2),-1,1,y,y+height))}}p.popStyle()};circularGradient=function(x,y,width,height,startColor,endColor){var angle=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var step=arguments.length>7&&arguments[7]!==undefined?arguments[7]:5;var dTheta=Math.ceil(p.degrees(Math.atan(step/Math.max(width,height)))*10)/10;p.pushStyle();if(step==1){p.strokeWeight(1.5);for(var i=angle-1;i<angle+180;i+=dTheta){p.stroke(p.lerpColor(startColor,endColor,Math.abs((i-angle)/180)));r=p.radians(i);p.line(x+width/2,y+height/2,p.map(Math.cos(r),-1,1,x,x+width),p.map(Math.sin(r),-1,1,y,y+height))}for(var _i2=angle-1;_i2>angle-180;_i2-=dTheta){p.stroke(p.lerpColor(startColor,endColor,Math.abs((_i2-angle)/180)));r=p.radians(_i2);p.line(x+width/2,y+height/2,p.map(Math.cos(r),-1,1,x,x+width),p.map(Math.sin(r),-1,1,y,y+height))}}else{p.strokeWeight(1);for(var _i3=angle-1;_i3<angle+180;_i3+=dTheta){var c=p.lerpColor(startColor,endColor,Math.abs((_i3-angle)/180));p.stroke(c);p.fill(c);r1=p.radians(_i3);r2=p.radians(_i3-dTheta);p.triangle(x+width/2,y+height/2,p.map(Math.cos(r1),-1,1,x,x+width),p.map(Math.sin(r1),-1,1,y,y+height),p.map(Math.cos(r2),-1,1,x,x+width),p.map(Math.sin(r2),-1,1,y,y+height))}r1=p.radians(angle-180);r2=p.radians(angle-180-dTheta);p.stroke(endColor);p.fill(endColor);p.triangle(x+width/2,y+height/2,p.map(Math.cos(r1),-1,1,x,x+width),p.map(Math.sin(r1),-1,1,y,y+height),p.map(Math.cos(r2),-1,1,x,x+width),p.map(Math.sin(r2),-1,1,y,y+height));for(var _i4=angle-1;_i4>angle-180;_i4-=dTheta){var _c=p.lerpColor(startColor,endColor,Math.abs((_i4-angle)/180));p.stroke(_c);p.fill(_c);r1=p.radians(_i4);r2=p.radians(_i4-dTheta);p.triangle(x+width/2,y+height/2,p.map(Math.cos(r1),-1,1,x,x+width),p.map(Math.sin(r1),-1,1,y,y+height),p.map(Math.cos(r2),-1,1,x,x+width),p.map(Math.sin(r2),-1,1,y,y+height))}}p.popStyle()};p.blur=function(){var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;if(_.isNumber(radius))radius="".concat(radius,"px");_appendFilter("blur(".concat(radius,")"))};contrast=function(amount){return _appendFilter("contrast(".concat(amount,"%)"))};dropShadow=function(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:x;var radius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;var color=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"#000";if(_.isNumber(color))color=RGBToHex(color);_appendFilter("drop-shadow(".concat(x,"px ").concat(y,"px ").concat(radius,"px ").concat(color,")"))};effect=function(filter){var _p;for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}switch(filter){case p.BLUR:return(_p=p).blur.apply(_p,args);case BRIGHTNESS:case LUMINANCE:return luminance.apply(void 0,args);case CONTRAST:return contrast.apply(void 0,args);case DROP_SHADOW:return dropShadow.apply(void 0,args);case p.GRAY:case GRAYSCALE:return grayscale.apply(void 0,args);case HUE_ROTATE:return hueRotate.apply(void 0,args);case p.INVERT:return invert.apply(void 0,args);case OPACITY:return opacity.apply(void 0,args);case SATURATE:return saturate.apply(void 0,args);case SEPIA:return sepia.apply(void 0,args);}_appendFilter(filter)};fastBlur=function(){var strength=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;var x=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var y=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var width=arguments.length>3&&arguments[3]!==undefined?arguments[3]:WIDTH;var height=arguments.length>4&&arguments[4]!==undefined?arguments[4]:width||HEIGHT;if(x<0){width+=x;x=0}if(y<0){height+=y;y=0}strength=p.constrain(strength,0,Math.min(width,height));p.image(p.get(x,y,width,height),x,y,width/strength,height/strength);p.image(p.get(x,y,width/strength,height/strength),x,y,width,height)};getColorMode=function(){return p.color(getRedRange(),0,0)==-65536?p.RGB:p.HSB};getColorRange=function(){return[p.red,p.green,p.blue,p.alpha].map(function(fn){return fn.call(null,WHITE)})};getFill=function(){var draw=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;draw&&p.rect(0,0,"%");return hexToRGB(ctx.fillStyle)};getStroke=function(){var draw=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;draw&&p.rect(0,0,"%");return hexToRGB(ctx.strokeStyle)};grayscale=function(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;return _appendFilter("grayscale(".concat(amount,"%)"))};hexToHSB=function(hex){var color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(color)return hexToRGB(hex);return RGBToHSB.apply(p,hexToRGB(hex,false))};hexToRGB=function(hex){var color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var currentColorMode=getColorMode();hex=hex.replace("#","");switch(hex.length){case 3:case 6:hex=hex.replace(/^([a-f\d])([a-f\d])([a-f\d])$/i,function(_m,r,g,b){return r+r+g+g+b+b});break;case 4:case 8:hex=hex.replace(/^([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,function(_m,r,g,b,a){return r+r+g+g+b+b+a+a});break;}var arr=hex.match(/.{2}/g).map(function(x){return parseInt(x,16)});if(arr.length==3)arr.push(RGB_COLOR_RANGE[3]);if(!isDefaultColorRange()&&currentColorMode==p.RGB){arr=mapColorRange(arr)}var result=arr;if(color)result=_createColor(arr,p.RGB,currentColorMode);return result};HSBToHex=function(){var shorthand=true,octothorpe=true;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}if(_.every(_.last(args,2),_.isBoolean)){octothorpe=args.pop();shorthand=args.pop()}else if(_.isBoolean(_.last(args)))shorthand=args.pop();var notDefaultColorRange=!isDefaultColorRange();notDefaultColorRange&&p.pushStyle();presetColorMode(p.RGB);var arr=HSBToRGB.apply(void 0,args).map(function(value){return Math.round(value)});notDefaultColorRange&&p.popStyle();return RGBToHex.apply(void 0,_toConsumableArray(arr).concat([shorthand,octothorpe]))};HSBToRGB=function(){var currentColorRange=getColorRange();var mapColorRange=getColorMode()==p.RGB?currentColorRange:RGB_COLOR_RANGE;var h,s,b,a;for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}switch(args.length){case 1:{var notDefaultColorRange=!isDefaultColorRange();if(notDefaultColorRange){p.pushStyle();presetColorMode(p.HSB)}var _toHSB=toHSB(args[0]);var _toHSB2=_slicedToArray(_toHSB,4);h=_toHSB2[0];s=_toHSB2[1];b=_toHSB2[2];a=_toHSB2[3];notDefaultColorRange&&p.popStyle();h/=60,s/=100,b/=100,a/=100;break}case 3:case 4:if(args.length==4)a=args.pop()/HSB_COLOR_RANGE[3];h=args.shift()/60;var _args$map=args.map(function(value,i){return value/=HSB_COLOR_RANGE[i+1]});var _args$map2=_slicedToArray(_args$map,2);s=_args$map2[0];b=_args$map2[1];}f=function(n){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:(n+h)%6;return b-b*s*Math.max(Math.min(k,4-k,1),0)};var arr=[f(5),f(3),f(1),a||1];arr=arr.map(function(value,i){return value*mapColorRange[i]});return arr};hueRotate=function(angle){return _appendFilter("hue-rotate(".concat(angle).concat(p.angleMode=="degrees"?"deg":"rad",")"))};invert=function(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;return _appendFilter("invert(".concat(amount,"%)"))};linearGradient=function(settings){var x=settings.x,y=settings.y,width=settings.width,height=settings.height,stops=settings.stops,angle=settings.angle,x0=settings.x0,y0=settings.y0,x1=settings.x1,y1=settings.y1;height=height||width;if(_.isNumber(angle)){if(p.angleMode=="degrees")angle=p.radians(angle);var _result=_pointOnRect(width,height,angle);x0=x0||x+width-_result.x;y0=y0||y+height-_result.y;x1=x1||x+_result.x;y1=y1||y+_result.y}push();var gradient=ctx.createLinearGradient(x0,y0,x1,y1);if(!_.every(stops,_.isArray))stops=stops.map(function(color,i,arr){return[p.norm(i,0,arr.length-1),color]});var _iterator=_createForOfIteratorHelper(stops),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var stop=_step.value;if(_.isNumber(stop[1]))stop[1]=RGBToHex(stop[1],false);gradient.addColorStop.apply(gradient,_toConsumableArray(stop))}}catch(err){_iterator.e(err)}finally{_iterator.f()}ctx.fillStyle=gradient;ctx.fillRect(x,y,width,height);pop()};luminance=function(amount){return _appendFilter("brightness(".concat(amount,"%)"))};opacity=function(amount){return _appendFilter("opacity(".concat(amount,"%)"))};presetColorMode=function(mode){if(!mode)mode=getColorMode()==p.RGB?p.HSB:p.RGB;switch(mode){case p.RGB:p.colorMode(p.RGB,255);break;case p.HSB:p.colorMode(p.HSB,360,100,100,100);}};mapColorRange=function(values,colorRange){var currentColorRange=getColorRange();if(colorRange){colorRange=_parseColorArray(colorRange,currentColorRange[3],true);values=_parseColorArray(values,currentColorRange[3]).map(function(value,i){return p.map(value,0,currentColorRange[i],0,colorRange[i])})}else{values=_parseColorArray(values,255).map(function(value,i){return p.map(value,0,255,0,currentColorRange[i])})}return values};radialGradient=function(settings){var x=settings.x,y=settings.y,width=settings.width,height=settings.height,stops=settings.stops,x0=settings.x0,y0=settings.y0,r0=settings.r0,x1=settings.x1,y1=settings.y1,r1=settings.r1;height=height||width;var centerX=x+width/2;var centerY=y+height/2;if(!_.isNumber(x0))x0=centerX;if(!_.isNumber(y0))y0=centerY;r0=r0||0;if(!_.isNumber(x1))x1=centerX;if(!_.isNumber(y1))y1=centerY;r1=r1||width/2;push();var gradient=ctx.createRadialGradient(x0,y0,r0,x1,y1,r1);if(!_.every(stops,_.isArray))stops=stops.map(function(color,i,arr){return[p.norm(i,0,arr.length-1),color]});var _iterator2=_createForOfIteratorHelper(stops),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var stop=_step2.value;if(_.isNumber(stop[1]))stop[1]=RGBToHex(stop[1],false);gradient.addColorStop.apply(gradient,_toConsumableArray(stop))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}ctx.fillStyle=gradient;ctx.fillRect(x,y,width,height);pop()};RGBToHex=function(){var hexadecimal,shorthand=true,octothorpe=true;for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}if(_.every(_.last(args,2),_.isBoolean)){octothorpe=args.pop();shorthand=args.pop()}else if(_.isBoolean(_.last(args)))shorthand=args.pop();switch(args.length){case 1:{var a=p.alpha(args[0]);hexadecimal=p.hex(args[0],6)+(a!=RGB_COLOR_RANGE[3]?a.toString(16).padStart(2,"0"):"");break}case 3:case 4:hexadecimal=((1<<24)+(args[0]<<16)+(args[1]<<8)+args[2]).toString(16).slice(1);if(args.length==4&&args[3]!=RGB_COLOR_RANGE[3])hexadecimal+=args[3].toString(16).padStart(2,"0");}if(shorthand){if(hexadecimal.length==8)hexadecimal=hexadecimal.replace(/(\w)\1(\w)\2(\w)\3(\w)\4/,"$1$2$3$4");if(hexadecimal.length==6)hexadecimal=hexadecimal.replace(/(\w)\1(\w)\2(\w)\3/,"$1$2$3")}return(octothorpe?"#":"")+hexadecimal.toUpperCase()};RGBToHSB=function(){var currentColorRange=getColorRange();var mapColorRange=getColorMode()==p.HSB?currentColorRange:HSB_COLOR_RANGE;var fns=[function(hue){return p.map(hue,0,6,0,mapColorRange[0])},function(saturation){return saturation*mapColorRange[1]},function(brightness){return brightness*mapColorRange[2]},function(alpha){return alpha*mapColorRange[3]}];var r,g,b,a;for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5]}switch(args.length){case 1:{var notDefaultColorRange=!isDefaultColorRange();if(notDefaultColorRange){p.pushStyle();presetColorMode(p.RGB)}var _toRGB$map=toRGB(args[0]).map(function(value,i){return value/=RGB_COLOR_RANGE[i]});var _toRGB$map2=_slicedToArray(_toRGB$map,4);r=_toRGB$map2[0];g=_toRGB$map2[1];b=_toRGB$map2[2];a=_toRGB$map2[3];notDefaultColorRange&&p.popStyle();break}case 3:case 4:if(args.length==4)a=args.pop()/RGB_COLOR_RANGE[3];var _args$map3=args.map(function(value,i){return value/=RGB_COLOR_RANGE[i]});var _args$map4=_slicedToArray(_args$map3,3);r=_args$map4[0];g=_args$map4[1];b=_args$map4[2];}var max=Math.max(r,g,b),chroma=max-Math.min(r,g,b);var hue=chroma&&(max==r?(g-b)/chroma:max==g?2+(b-r)/chroma:4+(r-g)/chroma);var arr=[hue<0?hue+6:hue,max&&chroma/max,max,a||1];arr=arr.map(function(value,i){return fns[i](value)});return arr};saturate=function(amount){return _appendFilter("saturate(".concat(amount,"%)"))};sepia=function(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;return _appendFilter("sepia(".concat(amount,"%)"))};shadow=function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6]}var color=args[0];if(args.length>1)color=p.color.apply(null,args);if(_.isNumber(args[0]))color=RGBToHex(color,false);ctx.shadowColor=color};shadowBlur=function(radius){return ctx.shadowBlur=radius};shadowOffset=function(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:x;if(_.isNumber(x))ctx.shadowOffsetX=x;ctx.shadowOffsetY=y};toHSB=function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7]}switch(args.length){case 1:{var col=args[0];if(_.isNumber(col)){var isRGB=getColorMode()==p.RGB;if(isRGB){p.pushStyle();presetColorMode(p.HSB)}var arr=[p.hue(col),p.saturation(col),p.brightness(col),p.alpha(col)];isRGB&&p.popStyle();return arr}return hexToHSB(col)}case 3:case 4:return RGBToHSB.apply(p,args);}};toRGB=function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8]}switch(args.length){case 1:{var col=args[0];if(_.isNumber(col)){var isHSB=getColorMode()==p.HSB;if(isHSB){p.pushStyle();presetColorMode(p.RGB)}var arr=[p.red(col),p.green(col),p.blue(col),p.alpha(col)];isHSB&&p.popStyle();return arr}return hexToRGB(col)}case 3:case 4:return HSBToRGB.apply(p,args);}};linearGradientOld=function(x,y,width,height,startColor,endColor){var direction=arguments.length>6&&arguments[6]!==undefined?arguments[6]:RIGHT;var step=arguments.length>7&&arguments[7]!==undefined?arguments[7]:5;push();e.strokeWeight(1);switch(direction){case LEFT:case RIGHT:if(direction==LEFT){var _ref=[endColor,startColor];startColor=_ref[0];endColor=_ref[1]}if(step==1){for(var i=0;i<width;i++){e.stroke(e.lerpColor(startColor,endColor,i/width));e.line(x+i,y,x+i,y+height)}}else{for(var _i5=0;_i5<width;_i5+=step){var c=e.lerpColor(startColor,endColor,_i5/width);e.stroke(c);e.fill(c);if(_i5+step>width){e.rect(x+_i5,y,width-_i5,height)}else{e.rect(x+_i5,y,step,height)}}}break;case TOP:case UP:case BOTTOM:case DOWN:if(direction==TOP||direction==UP){var _ref2=[endColor,startColor];startColor=_ref2[0];endColor=_ref2[1]}if(step==1){for(var _i6=0;_i6<height;_i6++){e.stroke(e.lerpColor(startColor,endColor,_i6/height));e.line(x,y+_i6,x+width,y+_i6)}}else{for(var _i7=0;_i7<height;_i7+=step){var _c2=e.lerpColor(startColor,endColor,_i7/height);e.stroke(_c2);e.fill(_c2);if(_i7+step>width){e.rect(x,y+_i7,width,height-_i7)}else{e.rect(x,y+_i7,width,step)}}}break;case TOP_LEFT:case BOTTOM_RIGHT:if(direction==TOP_LEFT){var _ref3=[endColor,startColor];startColor=_ref3[0];endColor=_ref3[1]}if(step==1){for(var _i8=0;_i8<width;_i8++){e.stroke(e.lerpColor(startColor,endColor,_i8/width/2));e.line(x+_i8,y,x,y+e.map(_i8,0,width,0,height))}for(var _i9=0;_i9<width;_i9++){e.stroke(e.lerpColor(startColor,endColor,_i9/width/2+0.5));e.line(x+_i9,y+height,x+width,y+e.map(_i9,0,width,0,height))}}else{var side=Math.max(width,height)*Math.sqrt(2);showGraphics(x,y,width,height,function(){this.angleMode="degrees";this.rotate(-45);for(var _i10=0;_i10<side;_i10+=step){var _c3=this.lerpColor(startColor,endColor,_i10/side);this.stroke(_c3);this.fill(_c3);if(_i10+step>side){this.rect(-side/2,_i10,side,side-_i10)}else{this.rect(-side/2,_i10,side,step)}}})}break;case TOP_RIGHT:case BOTTOM_LEFT:if(direction==TOP_RIGHT){var _ref4=[endColor,startColor];startColor=_ref4[0];endColor=_ref4[1]}if(step==1){for(var _i11=0;_i11<width;_i11++){e.stroke(e.lerpColor(startColor,endColor,_i11/width/2));e.line(x+width-_i11,y,x+width,y+e.map(_i11,0,width,0,height))}for(var _i12=0;_i12<width;_i12++){e.stroke(e.lerpColor(startColor,endColor,_i12/width/2+0.5));e.line(x+width-_i12,y+height,x,y+e.map(_i12,0,width,0,height))}}else{var _side=Math.max(width,height)*Math.sqrt(2);showGraphics(x,y,width,height,function(){this.angleMode="degrees";this.rotate(45);for(var _i13=0;_i13<_side;_i13+=step){var _c4=this.lerpColor(startColor,endColor,_i13/_side);this.stroke(_c4);this.fill(_c4);if(_i13+step>_side){this.rect(0,_i13-_side/2,_side,_side-_i13)}else{this.rect(0,_i13-_side/2,_side,step)}}})}}pop()};radialGradientOld=function(x,y,width,height,startColor,endColor){var step=arguments.length>6&&arguments[6]!==undefined?arguments[6]:5;push();e.strokeWeight(1);var maxRadius=Math.max(width,height);if(step==1){e.noFill();for(var i=0;i<maxRadius;i++){e.stroke(e.lerpColor(endColor,startColor,i/maxRadius));e.arc(x,y,width-e.map(i,0,maxRadius,0,width),height-e.map(i,0,maxRadius,0,height),0,360)}}else{for(var _i14=0;_i14<maxRadius;_i14+=step){var c=e.lerpColor(endColor,startColor,_i14/maxRadius);e.stroke(c);e.fill(c);e.ellipse(x,y,width-e.map(_i14,0,maxRadius,0,width),height-e.map(_i14,0,maxRadius,0,height))}}pop()};
