/**
 * Essentials X.
 *
 * The Essentials library provides utility functions for the Khan Academy
 * Processing Environment.
 *
 * @link https://github.com/bhavjitChauhan/Essentials
 * @file Minified CDN Essentials Build
 * @author Bhavjit Chauhan
 */

//jshint ignore: start

_environment_=this instanceof Window?"CDN":"KA",_console_style_="font-family:system-ui;font-size:0.75rem;",_core_initialized_="undefined"!=typeof ESSENTIALS_CORE,ESSENTIALS_CORE=!0,ESSENTIALS_VERSION="1.2.0",ESSENTIALS_ASCII="\n    _/_/_/_/    _/_/_/    _/_/_/  _/_/_/_/  _/      _/  _/_/_/_/_/  _/_/_/    _/_/    _/          _/_/_/\n   _/        _/        _/        _/        _/_/    _/      _/        _/    _/    _/  _/        _/\n  _/_/_/      _/_/      _/_/    _/_/_/    _/  _/  _/      _/        _/    _/_/_/_/  _/          _/_/\n _/              _/        _/  _/        _/    _/_/      _/        _/    _/    _/  _/              _/\n_/_/_/_/  _/_/_/    _/_/_/    _/_/_/_/  _/      _/      _/      _/_/_/  _/    _/  _/_/_/_/  _/_/_/\n\n",_silent_="undefined"!=typeof _silent_&&_silent_,_silent_||_core_initialized_||console.info(`%cESSENTIALS\n%cThe Khan Academy utility library.\n\n${_environment_} Build\nVersion ${ESSENTIALS_VERSION}\nCopyright Â© 2021 Bhavjit Chauhan\nhttps://github.com/bhavjitChauhan/Essentials`,"color:transparent;\nfont-size:3rem;\nbackground-image: url('https://github.com/bhavjitChauhan/Essentials/blob/master/logo.png?raw=true');\nbackground-position:center;\nbackground-repeat: no-repeat;\nbackground-size:contain;",_console_style_),_eval=eval,e=Processing.instances[0],[LEFT,RIGHT,TOP,BOTTOM,UP,DOWN]=[e.LEFT,e.RIGHT,e.TOP,e.BOTTOM,e.UP,e.DOWN],TOP_LEFT=1,TOP_RIGHT=2,BOTTOM_RIGHT=3,BOTTOM_LEFT=4,WIDTH=e.width,HEIGHT=e.height,HALF_WIDTH=WIDTH/2,HALF_HEIGHT=HEIGHT/2,clearLogs=()=>e._clearLogs(),noop=function(){},restart=()=>e.Program.restart(),attempt=(e,...t)=>{try{return e(...t)}catch(e){return e instanceof Error?e:new Error(e)}},chainAsync=e=>{let t=0;const o=_.last(e),r=()=>{const n=e[t++];n===o?n():n(r)};r()},clean=t=>{const o=t.toString().replace(/__env__\.KAInfiniteLoopCount\+\+;/g,"").replace(/if \(__env__\.KAInfiniteLoopCount > 1000\) {[\s]+__env__\.KAInfiniteLoopProtect\('[^']*'\);[^}]+}/g,"").replace(/__env__\.PJSOutput\.applyInstance\((__env__\.\S+), '\S+'\)/g,"new $1");return Object.constructor(`return (function(__env__) {return ${o};});`)()(e)},complement=e=>(...t)=>!e(...t),generateID=(e=8)=>{const t=e%2!=0,o=_eval(`new Uint8Array(Math.ceil(${e} / 2))`);crypto.getRandomValues(o);const r=Array.from(o,(e=>e.toString(16).padStart(2,"0"))).join("");return t?r.slice(0,-1):r},generateUUID=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(_eval("new Uint8Array(1)"))[0]&15>>e/4).toString(16))),getColonTime=function(){return(new Date).toTimeString().slice(0,8)},inherit=(e,t)=>{Object.setPrototypeOf(e.prototype,t.prototype),e.prototype.constructor=e,t.prototype.constructor===Object&&(t.prototype.constructor=t)},isEmptyFunction=e=>_.isFunction(e)&&/^function[^{]*[{]\s*[}]\s*$/.test(Function.prototype.toString.call(e)),isFont=t=>t instanceof e.PFont,isImage=t=>t instanceof e.PImage,isSound=e=>e.audio instanceof Audio,mostPerformant=(e,t=1e4)=>{const o=e.map((e=>{const o=performance.now();for(let o=0;o<t;o++)e();return performance.now()-o}));return o.indexOf(Math.min(...o))},pop=()=>{e.popStyle(),e.popMatrix()},printf=function(t){const o=Array.from(arguments).slice(1);for(const e in o)t=t.replace(/(?<!\\)%/,o[e]);t=t.replaceAll(/\\%/g,"%"),e.println(t)},push=()=>{e.pushMatrix(),e.pushStyle()},randomInt=(e,t)=>_.random(e,t),showGraphics=(t,o,r,n,a,l=e.P2D)=>{const s=e.createGraphics(r,n,l);a.call(s),e.image(s,t,o)},timeTaken=(e,t="default")=>{console.time(`timeTaken#${t}`);const o=e();return console.timeEnd(`timeTaken#${t}`),o},_color_initialized_="undefined"!=typeof COLOR_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Color Essentials depends on the Essentials Core."):(COLOR_ESSENTIALS=!0,_silent_||_color_initialized_||console.info("%cColor Essentials",_console_style_)),linearGradientBackground=(e,t,o=RIGHT,r=5)=>linearGradient(0,0,WIDTH,HEIGHT,e,t,o,r),radialGradientBackground=(e,t,o=5)=>{const r=Math.sqrt(Math.max(WIDTH,HEIGHT)**2*2);radialGradient(HALF_WIDTH,HALF_HEIGHT,r,r,e,t,o)},angularGradientBackground=(e,t,o=0,r=5)=>{const n=Math.sqrt(Math.max(WIDTH,HEIGHT)**2*2);angularGradient((WIDTH-n)/2,(HEIGHT-n)/2,n,n,e,t,o,r)},circularGradientBackground=(e,t,o=0,r=5)=>{const n=Math.sqrt(Math.max(WIDTH,HEIGHT)**2*2);circularGradient((WIDTH-n)/2,(HEIGHT-n)/2,n,n,e,t,o,r)},angularGradient=(t,o,n,a,l,s,i=0,c=5)=>{i-=90;const p=Math.ceil(10*e.degrees(Math.atan(c/Math.max(n,a))))/10;if(push(),1==c){e.strokeWeight(1.5);for(let c=i;c<i+359;c+=p)e.stroke(e.lerpColor(l,s,(c-i)/360)),r=e.radians(c),e.line(t+n/2,o+a/2,e.map(Math.cos(r),-1,1,t,t+n),e.map(Math.sin(r),-1,1,o,o+a))}else{e.strokeWeight(1);for(let r=i;r<i+359;r+=p){const c=e.lerpColor(l,s,(r-i)/360);e.stroke(c),e.fill(c),r1=e.radians(r),r2=e.radians(r-p),e.triangle(t+n/2,o+a/2,e.map(Math.cos(r1),-1,1,t,t+n),e.map(Math.sin(r1),-1,1,o,o+a),e.map(Math.cos(r2),-1,1,t,t+n),e.map(Math.sin(r2),-1,1,o,o+a))}}pop()},circularGradient=(t,o,n,a,l,s,i=0,c=5)=>{const p=Math.ceil(10*e.degrees(Math.atan(c/Math.max(n,a))))/10;if(push(),1==c){e.strokeWeight(1.5);for(let c=i-1;c<i+180;c+=p)e.stroke(e.lerpColor(l,s,Math.abs((c-i)/180))),r=e.radians(c),e.line(t+n/2,o+a/2,e.map(Math.cos(r),-1,1,t,t+n),e.map(Math.sin(r),-1,1,o,o+a));for(let c=i-1;c>i-180;c-=p)e.stroke(e.lerpColor(l,s,Math.abs((c-i)/180))),r=e.radians(c),e.line(t+n/2,o+a/2,e.map(Math.cos(r),-1,1,t,t+n),e.map(Math.sin(r),-1,1,o,o+a))}else{e.strokeWeight(1);for(let r=i-1;r<i+180;r+=p){const c=e.lerpColor(l,s,Math.abs((r-i)/180));e.stroke(c),e.fill(c),r1=e.radians(r),r2=e.radians(r-p),e.triangle(t+n/2,o+a/2,e.map(Math.cos(r1),-1,1,t,t+n),e.map(Math.sin(r1),-1,1,o,o+a),e.map(Math.cos(r2),-1,1,t,t+n),e.map(Math.sin(r2),-1,1,o,o+a))}r1=e.radians(i-180),r2=e.radians(i-180-p),e.stroke(s),e.fill(s),e.triangle(t+n/2,o+a/2,e.map(Math.cos(r1),-1,1,t,t+n),e.map(Math.sin(r1),-1,1,o,o+a),e.map(Math.cos(r2),-1,1,t,t+n),e.map(Math.sin(r2),-1,1,o,o+a));for(let r=i-1;r>i-180;r-=p){const c=e.lerpColor(l,s,Math.abs((r-i)/180));e.stroke(c),e.fill(c),r1=e.radians(r),r2=e.radians(r-p),e.triangle(t+n/2,o+a/2,e.map(Math.cos(r1),-1,1,t,t+n),e.map(Math.sin(r1),-1,1,o,o+a),e.map(Math.cos(r2),-1,1,t,t+n),e.map(Math.sin(r2),-1,1,o,o+a))}}pop()},RED=e.color(255,0,0),GREEN=e.color(0,128,0),BLUE=e.color(0,0,255),LIGHTSALMON=e.color(255,160,122),SALMON=e.color(250,128,114),DARKSALMON=e.color(233,150,122),LIGHTCORAL=e.color(240,128,128),INDIANRED=e.color(205,92,92),CRIMSON=e.color(220,20,60),FIREBRICK=e.color(178,34,34),DARKRED=e.color(139,0,0),CORAL=e.color(255,127,80),TOMATO=e.color(255,99,71),ORANGERED=e.color(255,69,0),GOLD=e.color(255,215,0),ORANGE=e.color(255,165,0),DARKORANGE=e.color(255,140,0),LIGHTYELLOW=e.color(255,255,224),LEMONCHIFFON=e.color(255,250,205),LIGHTGOLDENRODYELLOW=e.color(250,250,210),PAPAYAWHIP=e.color(255,239,213),MOCCASIN=e.color(255,228,181),PEACHPUFF=e.color(255,218,185),PALEGOLDENROD=e.color(238,232,170),KHAKI=e.color(240,230,140),DARKKHAKI=e.color(189,183,107),YELLOW=e.color(255,255,0),LAWNGREEN=e.color(124,252,0),CHARTREUSE=e.color(127,255,0),LIMEGREEN=e.color(50,205,50),LIME=e.color(0,255,0),FORESTGREEN=e.color(34,139,34),DARKGREEN=e.color(0,100,0),GREENYELLOW=e.color(173,255,47),YELLOWGREEN=e.color(154,205,50),SPRINGGREEN=e.color(0,255,127),MEDIUMSPRINGGREEN=e.color(0,250,154),LIGHTGREEN=e.color(144,238,144),PALEGREEN=e.color(152,251,152),DARKSEAGREEN=e.color(143,188,143),MEDIUMSEAGREEN=e.color(60,179,113),SEAGREEN=e.color(46,139,87),OLIVE=e.color(128,128,0),DARKOLIVEGREEN=e.color(85,107,47),OLIVEDRAB=e.color(107,142,35),LIGHTCYAN=e.color(224,255,255),CYAN=e.color(0,255,255),AQUA=e.color(0,255,255),AQUAMARINE=e.color(127,255,212),MEDIUMAQUAMARINE=e.color(102,205,170),PALETURQUOISE=e.color(175,238,238),TURQUOISE=e.color(64,224,208),MEDIUMTURQUOISE=e.color(72,209,204),DARKTURQUOISE=e.color(0,206,209),LIGHTSEAGREEN=e.color(32,178,170),CADETBLUE=e.color(95,158,160),DARKCYAN=e.color(0,139,139),TEAL=e.color(0,128,128),POWDERBLUE=e.color(176,224,230),LIGHTBLUE=e.color(173,216,230),LIGHTSKYBLUE=e.color(135,206,250),SKYBLUE=e.color(135,206,235),DEEPSKYBLUE=e.color(0,191,255),LIGHTSTEELBLUE=e.color(176,196,222),DODGERBLUE=e.color(30,144,255),CORNFLOWERBLUE=e.color(100,149,237),STEELBLUE=e.color(70,130,180),ROYALBLUE=e.color(65,105,225),MEDIUMBLUE=e.color(0,0,205),DARKBLUE=e.color(0,0,139),NAVY=e.color(0,0,128),MIDNIGHTBLUE=e.color(25,25,112),MEDIUMSLATEBLUE=e.color(123,104,238),SLATEBLUE=e.color(106,90,205),DARKSLATEBLUE=e.color(72,61,139),LAVENDER=e.color(230,230,250),THISTLE=e.color(216,191,216),PLUM=e.color(221,160,221),VIOLET=e.color(238,130,238),ORCHID=e.color(218,112,214),FUCHSIA=e.color(255,0,255),MAGENTA=e.color(255,0,255),MEDIUMORCHID=e.color(186,85,211),MEDIUMPURPLE=e.color(147,112,219),BLUEVIOLET=e.color(138,43,226),DARKVIOLET=e.color(148,0,211),DARKORCHID=e.color(153,50,204),DARKMAGENTA=e.color(139,0,139),PURPLE=e.color(128,0,128),INDIGO=e.color(75,0,130),PINK=e.color(255,192,203),LIGHTPINK=e.color(255,182,193),HOTPINK=e.color(255,105,180),DEEPPINK=e.color(255,20,147),PALEVIOLETRED=e.color(219,112,147),MEDIUMVIOLETRED=e.color(199,21,133),WHITE=e.color(255,255,255),SNOW=e.color(255,250,250),HONEYDEW=e.color(240,255,240),MINTCREAM=e.color(245,255,250),AZURE=e.color(240,255,255),ALICEBLUE=e.color(240,248,255),GHOSTWHITE=e.color(248,248,255),WHITESMOKE=e.color(245,245,245),SEASHELL=e.color(255,245,238),BEIGE=e.color(245,245,220),OLDLACE=e.color(253,245,230),FLORALWHITE=e.color(255,250,240),IVORY=e.color(255,255,240),ANTIQUEWHITE=e.color(250,235,215),LINEN=e.color(250,240,230),LAVENDERBLUSH=e.color(255,240,245),MISTYROSE=e.color(255,228,225),GAINSBORO=e.color(220,220,220),LIGHTGRAY=e.color(211,211,211),SILVER=e.color(192,192,192),DARKGRAY=e.color(169,169,169),GRAY=e.color(128,128,128),DIMGRAY=e.color(105,105,105),LIGHTSLATEGRAY=e.color(119,136,153),SLATEGRAY=e.color(112,128,144),DARKSLATEGRAY=e.color(47,79,79),BLACK=e.color(0,0,0),CORNSILK=e.color(255,248,220),BLANCHEDALMOND=e.color(255,235,205),BISQUE=e.color(255,228,196),NAVAJOWHITE=e.color(255,222,173),WHEAT=e.color(245,222,179),BURLYWOOD=e.color(222,184,135),TAN=e.color(210,180,140),ROSYBROWN=e.color(188,143,143),SANDYBROWN=e.color(244,164,96),GOLDENROD=e.color(218,165,32),PERU=e.color(205,133,63),CHOCOLATE=e.color(210,105,30),SADDLEBROWN=e.color(139,69,19),SIENNA=e.color(160,82,45),BROWN=e.color(165,42,42),MAROON=e.color(128,0,0),TRANSPARENT=e.color(255,0),hexToRGB=t=>{t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,o,r){return t+t+o+o+r+r}));let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o=o?o.splice(1).map((function(e){return parseInt(e,16)})):null,push(),e.colorMode(e.RGB),o=e.color.apply(e,o),pop(),o},HSBToRGB=function(t,o,r){1==arguments.length&&(c=t,t=e.hue(c),o=e.saturation(c),r=e.brightness(c)),t/=255,o/=255,r/=255;const n=Math.floor(6*t),a=6*t-n,l=r*(1-o),s=r*(1-a*o),i=r*(1-(1-a)*o);let p,h,E;switch(n%6){case 0:p=r,h=i,E=l;break;case 1:p=s,h=r,E=l;break;case 2:p=l,h=r,E=i;break;case 3:p=l,h=s,E=r;break;case 4:p=i,h=l,E=r;break;case 5:p=r,h=l,E=s}const _=[p,h,E].map((function(e){return 255*e}));return e.color.apply(e,_)},linearGradient=(t,o,r,n,a,l,s=RIGHT,i=5)=>{switch(push(),e.strokeWeight(1),s){case LEFT:case RIGHT:if(s==LEFT&&([a,l]=[l,a]),1==i)for(let s=0;s<r;s++)e.stroke(e.lerpColor(a,l,s/r)),e.line(t+s,o,t+s,o+n);else for(let s=0;s<r;s+=i){const c=e.lerpColor(a,l,s/r);e.stroke(c),e.fill(c),s+i>r?e.rect(t+s,o,r-s,n):e.rect(t+s,o,i,n)}break;case TOP:case UP:case BOTTOM:case DOWN:if(s!=TOP&&s!=UP||([a,l]=[l,a]),1==i)for(let s=0;s<n;s++)e.stroke(e.lerpColor(a,l,s/n)),e.line(t,o+s,t+r,o+s);else for(let s=0;s<n;s+=i){const c=e.lerpColor(a,l,s/n);e.stroke(c),e.fill(c),s+i>r?e.rect(t,o+s,r,n-s):e.rect(t,o+s,r,i)}break;case TOP_LEFT:case BOTTOM_RIGHT:if(s==TOP_LEFT&&([a,l]=[l,a]),1==i){for(let s=0;s<r;s++)e.stroke(e.lerpColor(a,l,s/r/2)),e.line(t+s,o,t,o+e.map(s,0,r,0,n));for(let s=0;s<r;s++)e.stroke(e.lerpColor(a,l,s/r/2+.5)),e.line(t+s,o+n,t+r,o+e.map(s,0,r,0,n))}else{const e=Math.max(r,n)*Math.sqrt(2);showGraphics(t,o,r,n,(function(){this.angleMode="degrees",this.rotate(-45);for(let t=0;t<e;t+=i){const o=this.lerpColor(a,l,t/e);this.stroke(o),this.fill(o),t+i>e?this.rect(-e/2,t,e,e-t):this.rect(-e/2,t,e,i)}}))}break;case TOP_RIGHT:case BOTTOM_LEFT:if(s==TOP_RIGHT&&([a,l]=[l,a]),1==i){for(let s=0;s<r;s++)e.stroke(e.lerpColor(a,l,s/r/2)),e.line(t+r-s,o,t+r,o+e.map(s,0,r,0,n));for(let s=0;s<r;s++)e.stroke(e.lerpColor(a,l,s/r/2+.5)),e.line(t+r-s,o+n,t,o+e.map(s,0,r,0,n))}else{const e=Math.max(r,n)*Math.sqrt(2);showGraphics(t,o,r,n,(function(){this.angleMode="degrees",this.rotate(45);for(let t=0;t<e;t+=i){const o=this.lerpColor(a,l,t/e);this.stroke(o),this.fill(o),t+i>e?this.rect(0,t-e/2,e,e-t):this.rect(0,t-e/2,e,i)}}))}}pop()},radialGradient=(t,o,r,n,a,l,s=5)=>{push(),e.strokeWeight(1);const i=Math.max(r,n);if(1==s){e.noFill();for(let s=0;s<i;s++)e.stroke(e.lerpColor(l,a,s/i)),e.arc(t,o,r-e.map(s,0,i,0,r),n-e.map(s,0,i,0,n),0,360)}else for(let c=0;c<i;c+=s){const s=e.lerpColor(l,a,c/i);e.stroke(s),e.fill(s),e.ellipse(t,o,r-e.map(c,0,i,0,r),n-e.map(c,0,i,0,n))}pop()},RGBToHex=function(e,t,o){return 1==arguments.length&&(c=e,e=c>>16&255,t=c>>8&255,o=255&c),"#"+((1<<24)+(e<<16)+(t<<8)+o).toString(16).slice(1)},RGBToHSB=function(t,o,r){1==arguments.length&&(c=t,t=c>>16&255,o=c>>8&255,r=255&c),t/=255,o/=255,r/=255;const n=Math.max(t,o,r),a=Math.min(t,o,r),l=n,s=n-a,i=0===n?0:s/n;if(n===a)h=0;else{switch(n){case t:h=(o-r)/s+(o<r?6:0);break;case o:h=(r-t)/s+2;break;case r:h=(t-o)/s+4}h/=6}let p=[h,i,l].map((function(e){return 255*e}));return push(),e.colorMode(e.HSB),p=e.color.apply(e,p),pop(),p},toHSB=function(){const t=arguments;if(1==t.length){const o=t[0];return"number"==typeof o?[e.hue(o),e.saturation(o),e.brightness(o)]:RGBToHSB.apply(e,toRGB(hexToRGB(o)))}if(3==t.length)return RGBToHSB.apply(e,t)},toRGB=function(){const t=arguments;if(1==t.length){const o=t[0];return"number"==typeof o?[e.red(o),e.green(o),e.blue(o)]:hexToRGB(o)}if(3==t.length)return HSBToRGB.apply(e,t)},_text_initialized_="undefined"!=typeof TEXT_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Text Essentials depends on the Essentials Core."):"undefined"==typeof COLOR_ESSENTIALS?console.error("Text Essentials depends on Color Essentials."):(TEXT_ESSENTIALS=!0,_silent_||_text_initialized_||console.info("%cText Essentials",_console_style_)),fastGradientText=(t,o=0,r=e.textAscent(),n,a)=>{if(push(),t.includes("\n")){const e=t.split("\n");for(const t in e)fastGradientText(e[t],o,r+t*textAscent(),n,a)}else for(let l=0;l<t.length;l++)e.fill(e.lerpColor(n,a,l/t.length)),e.text(t[l],o+e.textWidth(t.slice(0,l)),r);pop()},font=function(t){let o=Array.from(arguments).slice(1);o.push("");let r,n=o.find((function(e){return _.isBoolean(e)}));n=!_.isBoolean(n)&&!0,o=_.without(o,!0,!1);let a=o.find((function(e){return!isNaN(e)}));if(isFont(t)){r=t,a=a||+r.css.match(/\d+/)[0],previousCSS=r.css.split(" "),previousProperties=previousCSS.slice(0,-2).filter((function(e){return"normal"!==e})),o=_.union(o,previousProperties);let e=o.filter((function(e){return!!_.isString(e)&&"-"==e.charAt(0)}));e=e.map((function(e){return e.substr(1)})),o=o.filter((function(e){return!!_.isString(e)&&"-"!=e.charAt(0)})),o=_.difference(o,e).join(" "),r.css=`${o} ${a}px/${a+2}px ${_.last(previousCSS)}`}else a=a||12,r=e.createFont(t,a),o=_.without(o,a),r.css=(!_.isEmpty(o)&&o.join(" ")+" ")+`${a}px/${a+2}px ${t}`;return n&&e.textFont(r),r},format=t=>{let o=_.first(t.match(/\${.*?}/));for(;o;){let r;try{r=_eval(`\`${o}\``)}catch(t){let n=o.match(/(\w+)\(/);if(_.isArray(n)){n=n[1];let t=o.match(/\(([^)]+)\)/);_.isArray(t)?(t=t[1].split(","),r=e[n](...t)):r=e[n]()}else{const t=o.match(/\w+/);r=e[t]}}t=t.replace(o,r),o=_.first(t.match(/\${.*?}/))}return t},highlightText=(t,o=0,r=e.textAscent(),n=YELLOW)=>{if(/\S/.test(t)){t=t.split("\n"),e.noStroke(),e.rectMode(e.CORNER),e.textAlign(e.LEFT,e.TOP);for(const a in t)t[a]=` ${t[a]} `,push(),e.fill(n),e.rect(o,r+a*e.textAscent()*2,e.textWidth(t[a]),1.75*e.textAscent()),pop(),e.text(t[a],o,r+a*e.textAscent()*2)}},formatDuration=e=>{e<0&&(e=-e);const t={day:Math.floor(e/864e5),hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(t).filter((e=>0!==e[1])).map((([e,t])=>`${t} ${e}${1!==t?"s":""}`)).join(", ")},lightOrDarkText=t=>{let o,r,n;if("string"==typeof t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);o=parseInt(e[1],16),r=parseInt(e[2],16),n=parseInt(e[3],16)}else o=e.red(t),r=e.green(t),n=e.blue(t);return(o+n+r)/3<225?WHITE:BLACK},multicoloredText=(t,o=0,r=e.textAscent())=>{if(/\S/.test(t)){t=t.split("\n"),push(),e.textAlign(e.LEFT,e.CORNER);for(const n in t){t[n]=t[n].split(/\[|]/);let a=0;for(const l in t[n])if(/\d+,\d+,\d+/.test(t[n][l])){const o=t[n][l].split(",");e.fill.apply(e,o),delete t[n][l],0===a&&(t[n][l-1]+=" "),a+=1}else{const s=e.textWidth(t[n].slice(0,l));e.text(t[n][l],o+s-2*a*e.textWidth(" "),r+n*e.textAscent()*2)}}pop()}},obfuscate=e=>{let t="";for(const o in _.range(e.length)){let r=e.charCodeAt(o).toString(16);if(r.length<=2){for(;r.length<2;)r="0"+r;t+="\\x"+r}else{for(;r.length<4;)r="0"+r;t+="\\u"+r}}return t},ordinalSuffix=e=>{const t=parseInt(e,10),o=[t%10,t%100],r=["st","nd","rd","th"];return[1,2,3,4].includes(o[0])&&![11,12,13,14,15,16,17,18,19].includes(o[1])?t+r[o[0]-1]:t+r[3]},outlineText=(t,o=0,r=e.textAscent(),n=BLACK)=>{if(/\S/.test(t)){push(),e.fill(n);for(let n=-2;n<3;n++){for(let a=-1;a<3;a++)e.text(t,o+n,r+a);e.text(t,o+n,r),e.text(t,o,r+n)}pop(),e.text(t,o,r)}},pluralize=(e,t,o=t+"s")=>{const r=(e,t,o=t+"s")=>[1,-1].includes(Number(e))?t:o;return"object"==typeof e?(t,o)=>r(t,o,e[o]):r(e,t,o)},removeNonASCII=e=>e.replace(/[^\x20-\x7E]/g,""),String.prototype.format=function(){return format(this)},String.prototype.obfuscate=function(){return obfuscate(this)},String.prototype.removeNonASCII=function(){return removeNonASCII(this)},String.prototype.toTitleCase=function(){return toTitleCase(this)},String.prototype.toCamelCase=function(){return toCamelCase(this)},String.prototype.toKebabCase=function(){return toKebabCase(this)},String.prototype.toSnakeCase=function(){return toSnakeCase(this)},toCamelCase=e=>{const t=e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase())).join("");return t.slice(0,1).toLowerCase()+t.slice(1)},toKebabCase=e=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.toLowerCase())).join("-"),toSnakeCase=e=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.toLowerCase())).join("_"),toTitleCase=e=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),underlineText=(t,o=0,r=e.textAscent(),n=BLACK,a=e.externals.context.font.match(/\d+/)[0]/12)=>{if(/\S/.test(t)){strings=t.split("\n"),push(),e.strokeCap(e.SQUARE),e.strokeWeight(a),e.stroke(n);for(const t in strings)e.line(o,r+e.textAscent()/4+e.textAscent()*t*1.55,o+e.textWidth(strings[t]),r+e.textAscent()/4+e.textAscent()*t*1.55);e.textAlign(e.LEFT,e.CORNER),e.text(t,o,r),pop()}},wordWrap=(e,t,o="\n")=>e.replace(new RegExp(`(?![^\\n]{1,${t}}$)([^\\n]{1,${t}})\\s`,"g"),"$1"+o),_shape_initialized_="undefined"!=typeof SHAPE_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("Shape Essentials depends on the Essentials Core."):(SHAPE_ESSENTIALS=!0,_silent_||_shape_initialized_||console.info("%cShape Essentials",_console_style_)),blurRect=(t,o,r,n,a)=>{a<=0||(a=e.constrain(a,0,Math.min(r,n)),e.image(e.get(t,o,r,n),t,o,r/a,n/a),e.image(e.get(t,o,r/a,n/a),t,o,r,n))},circle=(t,o,r)=>e.ellipse(t,o,r,r),cylinder=(t,o,r,n)=>{if(r=Math.abs(r),n=Math.abs(n),push(),e.translate(t,o),n>r){const t=Math.cos(Math.PI)<0?e.TWO_PI:360;e.rotate(t/4),cylinder(0,0,n,r)}else{const t=n/2,o=(r-n)/2,a=4/3*(Math.sqrt(2)-1)*t;drawShape((()=>{e.vertex(o,-t),e.bezierVertex(o+a,-t,o+t,-a,o+t,0),e.bezierVertex(o+t,a,o+a,t,o,t),e.vertex(-o,t),e.bezierVertex(-o-a,t,-o-t,a,-o-t,0),e.bezierVertex(-o-t,-a,-o-a,-t,-o,-t)}),!0)}pop()},dashedEdge=(t,o,r,n=0,a=10,l=10,s=!0,i=!0)=>{"degrees"==e.angleMode&&(n=e.radians(n));const c=t+r*Math.cos(n),p=o+r*Math.sin(n);dashedLine(t,o,c,p,a,l,s,i)},dashedLine=(t,o,r,n,a=10,l=10,s=!0,i=!0)=>{const c=e.dist(t,o,r,n);let p=0;for(;p<=c-a;p+=a+2*l)e.line(e.map(p,0,c,t,r),e.map(p,0,c,o,n),e.map(p+a,0,c,t,r),e.map(p+a,0,c,o,n));s&&p<c&&e.line(e.map(p,0,c,t,r),e.map(p,0,c,o,n),r,n),i&&p>=c&&e.point(r+.5,n+.5)},donut=(t,o,r,n)=>{const a=4/3*(Math.sqrt(2)-1);push(),e.translate(t,o),push(),e.noStroke(),drawShape((()=>{let t=n/2,o=a*t;e.vertex(t,0),e.bezierVertex(t,o,o,t,0,t),e.bezierVertex(-o,t,-t,o,-t,0),e.bezierVertex(-t,-o,-o,-t,0,-t),e.bezierVertex(o,-t,t,-o,t,0),t=r/2,o=a*t,e.vertex(t,0),e.bezierVertex(t,-o,o,-t,0,-t),e.bezierVertex(-o,-t,-t,-o,-t,0),e.bezierVertex(-t,o,-o,t,0,t),e.bezierVertex(o,t,t,o,t,0)}),!0),pop(),push(),e.noFill(),circle(0,0,n),circle(0,0,r),pop(),pop()},dottedEdge=(t,o,r,n=0,a=10,l=!0)=>{"degrees"==e.angleMode&&(n=e.radians(n));const s=t+r*Math.cos(n),i=o+r*Math.sin(n);dottedLine(t,o,s,i,a,l)},dottedLine=(t,o,r,n,a=10,l=!0)=>{const s=e.dist(t,o,r,n);for(let l=0;l<s;l+=a)e.point(e.map(l,0,s,t,r),e.map(l,0,s,o,n));l&&e.point(r,n)},drawShape=(t,o,r)=>{o=o&&e.CLOSE,e.beginShape(r),t(),e.endShape(o)},edge=(t,o,r,n=0)=>{"degrees"==e.angleMode&&(n=e.radians(n));const a=t+r*Math.cos(n),l=o+r*Math.sin(n);e.line(t,o,a,l)},heart=(t,o,r)=>{const n=o-2*r/5,a=o+r,l=o-6*r/5,s=o-2*r/5;let i=t+r/2,c=t+9*r/5;drawShape((()=>{e.vertex(t,n),e.bezierVertex(i,l,c,s,t,a),i=2*t-i,c=2*t-c,e.bezierVertex(c,s,i,l,t,n)}),!0)},parallelogram=(t,o,r,n,a,l)=>{const s=r-t,i=n-o;e.quad(t,o,r,n,a+s,l+i,a,l)},polygon=(t,o,r,n,a)=>{const l=Math.cos(Math.PI)<0?2*Math.PI:360;push(),e.translate(t,o),e.rotate(null==a?-l/4:a),drawShape((()=>{for(let t=0;t<l;t+=l/r)e.vertex(n*Math.cos(t),n*Math.sin(t))}),!0),pop()},rectangle=(t,o,r,n=r,a,l,s,i)=>{null==a?e.rect(t,o,r,n):null==l?e.rect(t,o,r,n,a):null==s?e.rect(t,o,r,n,a,a,l,l):null==i?e.rect(t,o,r,n,a,l,s,0):e.rect(t,o,r,n,a,l,s,i)},rhombus=(t,o,r,n,a,l)=>{const s=e.dist(t,o,r,n)/e.dist(t,o,a,l);a=t+s*(a-t),l=o+s*(l-o),parallelogram(t,o,r,n,a,l)},square=(t,o,r,n,a,l,s)=>{null==n?e.rect(t,o,r,r):null==a?e.rect(t,o,r,r,n):null==l?e.rect(t,o,r,r,n,n,a,a):null==s?e.rect(t,o,r,r,n,a,l,0):e.rect(t,o,r,r,n,a,l,s)},star=(t,o,r,n=5,a)=>{const l=Math.cos(Math.PI)<0?e.TWO_PI:360,s=r*Math.sin(.05*l)/Math.sin(.35*l);push(),e.translate(t,o),e.rotate(null==a?-l/4:a),drawShape((()=>{let t;for(let o=0;o<l;o+=l/(2*n))t=t===r?s:r,e.vertex(t*Math.cos(o),t*Math.sin(o))}),!0),pop()},trapezoid=(t,o,r,n,a)=>{const l=Math.max(n,a);e.quad(t+(l-n)/2,o,t+(l-n)/2+n-1,o,t+(l-a)/2+a-1,o+r-1,t+(l-a)/2,o+r-1)},_external_initialized_="undefined"!=typeof EXTERNAL_ESSENTIALS,"undefined"==typeof ESSENTIALS_CORE?console.error("External Essentials depends on the Essentials Core."):(EXTERNAL_ESSENTIALS=!0,_silent_||_external_initialized_||console.info("%cExternal Essentials",_console_style_)),_doc=_eval("document"),CREATE_ELEMENT="createElement",_preventDefault=e=>e.preventDefault(),CANVAS="#output-canvas",CANVAS_LOG="body div:first div:nth-child(2) div div",supportsTouchEvents=()=>"ontouchstart"in window,getSelectedText=()=>window.getSelection().toString(),preventScroll=()=>$(CANVAS).on("wheel",_preventDefault),allowScroll=()=>$(CANVAS).off("wheel",_preventDefault),forceAllowScroll=()=>$(CANVAS).off("wheel"),requestPointerLock=()=>$(CANVAS)[0].requestPointerLock(),exitPointerLock=()=>_doc.exitPointerLock(),resizeLog=e=>$("body > div:nth-child(1)").css("height",e),closeLog=()=>$("body > div:nth-child(1) > div:nth-child(3)").click(),detectDeviceType=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop",clearElements=()=>$("#essentials").empty(),copyToClipboard=e=>{const t=_doc[CREATE_ELEMENT]("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",_doc.body.appendChild(t);const o=_doc.getSelection().rangeCount>0&&_doc.getSelection().getRangeAt(0);t.select(),_doc.execCommand("copy"),_doc.body.removeChild(t),o&&(_doc.getSelection().removeAllRanges(),_doc.getSelection().addRange(o))},detectLanguage=(e="en-US")=>navigator.language||Array.isArray(navigator.languages)&&navigator.languages[0]||e,allowBannedProperties=()=>{_.isEmpty(BabyHint.bannedProperties)||(console.warn("Restarting program to allow banned properties..."),BabyHint.bannedProperties={},restart())},disableLoopProtector=()=>{isEmptyFunction(LoopProtector.prototype.leave)||(console.warn("Restarting program to disable loop protector..."),LoopProtector.prototype.leave=noop,restart())},drawElement=(e,t={})=>{e instanceof jQuery||(t=e);let o=$("#essentials");if(!o.length){const e=$("<div>",{id:"essentials"});e.css({position:"absolute","pointer-events":"none"}),$(CANVAS).parent().prepend(e),o=$("#essentials")}const r={data:null,id:generateID(),x:0,y:0,width:"max-content",height:"max-content",interactive:!0},{data:n,id:a,x:l,y:s,width:i,height:c,interactive:p}=_.defaults(t,r);return e instanceof jQuery?(n&&e.append(n),(0!==l||0!==s)&&e.css("position","absolute"),!e.attr("id")&&e.attr("id",a),!e.css("left")&&e.css("left",l),!e.css("top")&&e.css("top",s),"0px"==e.css("width")&&e.css("width",i),"0px"==e.css("height")&&e.css("height",c),!e.css("pointer-events")&&e.css("pointer-events","auto")):((e=$("<div>",{html:n,id:a})).css({position:"absolute",left:l,top:s}),i&&e.css("width",i),c&&e.css("height",c),p&&e.css("pointer-events","auto")),Object.prototype.hasOwnProperty.call(t,"css")&&e.css(t.css),o.append(e),a},escapeHTML=e=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e))),isBrowserTabFocused=()=>!_doc.hidden,isSessionStorageEnabled=()=>{try{const e=generateUUID();return window.sessionStorage.setItem(e,null),window.sessionStorage.removeItem(e),!0}catch(e){return!1}},prefersDarkColorScheme=()=>window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,isLocalStorageEnabled=()=>{try{const e=generateUUID();return window.localStorage.setItem(e,null),window.localStorage.removeItem(e),!0}catch(e){return!1}},prefersLightColorScheme=()=>window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,printMD=e=>{let t,o,r="";function n(e,t){r+=`<${t?"/":""}${e}>`}for(let a=0;a<e.length;a++)switch(e[a]){case"*":n("b",t),t=!t;break;case"_":n("i",o),o=!o;break;case"[":try{const t=e.substr(a,e.length),o=t.match(/(?<=\[).+?(?=\])/)[0],n=t.match(/(?<=\().+?(?=\))/)[0];r+=`<a href="${n}">${o}</a>`,a+=o.length+n.length+3;break}catch(e){console.warn(`Markdown error: ${e}`)}break;default:r+=e[a]}printHTML(r)},printHTML=t=>{t=t.replace(/<a href="([\w+:/.]+)">(?<=>)(.+?)(?=<)<\/a>/g,'<abbr title="Ctrl + Click"><a href="$1" target="_blank">$2</a></abbr>');const o=$(CANVAS_LOG).html();o||e.println(""),$(CANVAS_LOG).html((o&&o+"<br>"||"")+t)},unescapeHTML=e=>e.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,(e=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'}[e]||e))),removeElement=e=>{$(`#${e}`).remove()};